<!--LIFE DOMAIN-->

new entry "Interrupt_DampenElements"
type "InterruptData"
data "DisplayName" "h491d863ag5353g4536ga752gbbe43c580690;1"
data "Description" "h2bcdafc9g89bfg411ega025gc4c99b623e55;1"
data "Icon" "PassiveFeature_DampenElements"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and (Self(context.Target,context.Observer) or Ally(context.Target,context.Observer)) and not AnyEntityIsItem() and IsElementalDamage(context.HitDescription.MainDamageType, context.Target) and not Enemy(context.Target,context.Observer)"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);SetDamageResistance(Poison);SetDamageResistance(Radiant);SetDamageResistance(Necrotic);SetDamageResistance(Force);SetDamageResistance(Psychic);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(not Self(context.Target,context.Observer)):UseSpell(OBSERVER_TARGET,Target_DampenElements_Interrupt,true,true,true)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"
data "Stack" "AllyAboutBeHit"

<!--TEMPEST DOMAIN-->

new entry "Interrupt_DestructiveWrath"
type "InterruptData"
data "DisplayName" "h1b39a27dg9af5g49eega545g56c1105a8fff;1"
data "Description" "h5eb4eeebg7db0g4469gb357gd135c8cb9sdf;1"
data "Icon" "PassiveFeature_ThunderboltStrike"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "Self(context.Source,context.Observer) and (SpellDamageTypeIs(DamageType.Lightning) or SpellDamageTypeIs(DamageType.Cold) or SpellDamageTypeIs(DamageType.Thunder)) and not AnyEntityIsItem() and not SpellId('Projectile_Discharge') and not SpellId('Target_WrathOfTheStorm_Cold') and not SpellId('Target_WrathOfTheStorm_Lightning') and not SpellId('Target_WrathOfTheStorm_Thunder')"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,DESTRUCTIVE_WRATH,100,1)"
data "Cost" "ChannelDivinity:1;CounterAction:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "Stack" "PreDamage"

new entry "Interrupt_WrathOfTheStorm_Lightning"
type "InterruptData"
data "DisplayName" "h32bdfb5egcdecg4a57g98d2gb14eec4a13e2;2"
data "Description" "h1f3cd2fagdff9g4438gb5c2gf1d58f39dd8b;2"
data "DescriptionParams" "Distance(18)"
data "ExtraDescription" "hafc31b7egd182g4aa4g90d0ga4b16e14dae9;2"
data "Icon" "GenericIcon_DamageType_Lightning"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "Self(context.Target,context.Observer) and not Self(context.Source,context.Observer) and Enemy(context.Source,context.Observer) and IsAbleToReact(context.Observer) and IsAttack() and IsHit() and not DistanceToGreaterThan(context.SourcePosition, context.TargetPosition, 18) and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(OBSERVER_SOURCE,Target_WrathOfTheStorm_Lightning,true,true,true)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "Stack" "OnDamage"

new entry "Interrupt_WrathOfTheStorm_Thunder"
type "InterruptData"
using "Interrupt_WrathOfTheStorm_Lightning"
data "DisplayName" "h256d3cd4g3e8ag4cf0gb826g1cb831abe1ce;2"
data "Description" "hc74dcac4g87bfg4800g8ae4geacc03a5f0e6;1"
data "DescriptionParams" "Distance(18)"
data "Icon" "GenericIcon_DamageType_Thunder"
data "Properties" "UseSpell(OBSERVER_SOURCE,Target_WrathOfTheStorm_Thunder,true,true,true)"

new entry "Interrupt_WrathOfTheStorm_Cold"
type "InterruptData"
using "Interrupt_WrathOfTheStorm_Lightning"
data "DisplayName" "h256d3cd4g3e8ag4cf0gb826g1cb831a6a121;2"
data "Description" "hc74dcac4g87bfg4800g8ae4geacc03afffd8;1"
data "DescriptionParams" "Distance(18)"
data "Icon" "GenericIcon_DamageType_Cold"
data "Properties" "UseSpell(OBSERVER_SOURCE,Target_WrathOfTheStorm_Cold,true,true,true)"

<!--WAR DOMAIN-->

new entry "Interrupt_GuidedStrike"
type "InterruptData"
data "DisplayName" "hd43e6530gca4dg47f5g9d17ge69427798c50;2"
data "Description" "hb4e74b3agdc01g41dag9b6fg72299d7e39a7;3"
data "DescriptionParams" "10"
data "Icon" "PassiveFeature_GuidedStrike"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "Self(context.Source,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10, context.Source)"
data "Properties" "AdjustRoll(10);ApplyStatus(OBSERVER_SOURCE,GUIDED_STRIKE,100,1);IF(HasPassive('War_Gods_Vessel',context.Source)):ApplyStatus(OBSERVER_SOURCE,WAR_GODS_VESSEL,100,3)"
data "Cost" "ReactionActionPoint:1;ChannelDivinity:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"
data "Stack" "OnPossibleMiss"

new entry "Interrupt_WarGodsBlessing"
type "InterruptData"
using "Interrupt_GuidedStrike"
data "DisplayName" "h8a4968e1g9e20g411ag9f3eg4359765d779b;2"
data "Description" "h8ec76766gf369g4aa0g87d3gc9c74e7448c6;3"
data "DescriptionParams" "Distance(9);10"
data "InterruptContextScope" "Nearby"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Source,context.Observer) and Ally(context.Source,context.Observer) and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and HasInterruptedAttack() and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10, context.Source)"
data "Properties" "AdjustRoll(10);ApplyStatus(OBSERVER_SOURCE,WAR_GODS_BLESSING,100,0);UseSpell(OBSERVER_SOURCE,Target_WarGodsBlessing_Interrupt,true,true,true);IF(HasPassive('War_Gods_Vessel',context.Source)):ApplyStatus(OBSERVER_SOURCE,WAR_GODS_VESSEL,100,3)"

<!--PASSIVES-->

new entry "Interrupt_Flames_of_Repentance"
type "InterruptData"
data "DisplayName" "6593b492919e49e9b6dffa5d2a42cb6e000z7;1"
data "Description" "6593b492919e49e9b6dffa5d2a42cb6e000zg;1"
data "DescriptionParams" "Distance(9)"
data "Icon" "Spell_Evocation_SacredFlame"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "not Self(context.Target,context.Observer) and not Self(context.Source,context.Observer) and Ally(context.Target, context.Observer) and Enemy(context.Source, context.Observer) and CanSee(context.Source,context.Observer) and IsAbleToReact(context.Observer) and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and not HasStatus('SG_Invisible',context.Source) and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(OBSERVER_SOURCE,Target_SacredFlame,true,true,true)"
data "Cost" "ReactionActionPoint:1;CounterAction:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph_BeastShape') and not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Immaculate_Ward"
type "InterruptData"
data "DisplayName" "6593b492919e49e9b6dffa5d2a42cb6e00z10;1"
data "Description" "6593b492919e49e9b6dffa5d2a42cb6e000zj;3"
data "Icon" "Spell_Abjuration_BladeWard"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source)"
data "Properties" "UseSpell(OBSERVER_TARGET,Shout_BladeWard_Interrupt,true,true,true);ApplyStatus(OBSERVER_TARGET,BLADE_WARD_IMMACULATE,100,1)"
data "Cost" "ReactionActionPoint:1;ChannelDivinity:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('ChannelDivinity',1,0,false,false,context.Source) and not HasStatus('SG_Blinded')"
data "EnableContext" "OnActionResourcesChanged;OnStatusApplied;OnStatusRemoved"
