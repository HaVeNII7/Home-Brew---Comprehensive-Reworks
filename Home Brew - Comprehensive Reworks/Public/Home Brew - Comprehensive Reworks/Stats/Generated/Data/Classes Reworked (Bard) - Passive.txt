<!--BARD-->

new entry "Perform_CombatStart"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCombatStarted"
data "Conditions" "HasStatus('CPERFORM_POSITIVE_THEPOWER') or HasStatus('CPERFORM_POSITIVE_STARGAZING') or HasStatus('CPERFORM_POSITIVE_BARDDANCE') or HasStatus('CPERFORM_POSITIVE_DOS2_1') or HasStatus('CPERFORM_POSITIVE_DOS2_2') or HasStatus('CPERFORM_POSITIVE_DOS2_3') or HasStatus('PERFORM_POSITIVE_THEPOWER_MUTED') or HasStatus('PERFORM_POSITIVE_STARGAZING_MUTED') or HasStatus('PERFORM_POSITIVE_BARDDANCE_MUTED') or HasStatus('PERFORM_POSITIVE_DOS2_1_MUTED') or HasStatus('PERFORM_POSITIVE_DOS2_2_MUTED') or HasStatus('PERFORM_POSITIVE_DOS2_3_MUTED')"
data "StatsFunctors" "IF(not HasStatus('PERFORMATIVE_INTRO')):ApplyStatus(SELF,PERFORMATIVE_INTRO,100,1)"

new entry "Mute_Songs"
type "PassiveData"
data "DisplayName" "h4d0c77c3g56aag4077g80c4g3bk231251215;1"
data "Description" "h078069acgf62bg4c64g9322938r645686545;2"
data "Icon" "Spell_Enchantment_MotivationalSpeech"
data "Properties" "Highlighted;IsToggled;ToggledDefaultAddToHotbar"
data "ToggleOnFunctors" "ApplyStatus(SELF,QUIET_HOUR,100,-1);RemoveStatus(CPERFORM_POSITIVE);RemoveStatus(CPERFORM_NEGATIVE);RemoveStatus(PERFORMATIVE_INTRO);RemoveStatus(PERFORMATIVE_VERSE);RemoveStatus(PERFORMATIVE_CHORUS);RemoveStatus(CPERFORM_POSITIVE_THEPOWER);RemoveStatus(CPERFORM_POSITIVE_STARGAZING);RemoveStatus(CPERFORM_POSITIVE_BARDDANCE);RemoveStatus(CPERFORM_POSITIVE_DOS2_1);RemoveStatus(CPERFORM_POSITIVE_DOS2_2);RemoveStatus(CPERFORM_POSITIVE_DOS2_3);RemoveStatus(PERFORM_POSITIVE_THEPOWER);RemoveStatus(PERFORM_POSITIVE_STARGAZING);RemoveStatus(PERFORM_POSITIVE_BARDDANCE);RemoveStatus(PERFORM_POSITIVE_DOS2_1);RemoveStatus(PERFORM_POSITIVE_DOS2_2);RemoveStatus(PERFORM_POSITIVE_DOS2_3);RemoveStatus(PERFORM_POSITIVE_THEPOWER_MUTED);RemoveStatus(PERFORM_POSITIVE_STARGAZING_MUTED);RemoveStatus(PERFORM_POSITIVE_BARDDANCE_MUTED);RemoveStatus(PERFORM_POSITIVE_DOS2_1_MUTED);RemoveStatus(PERFORM_POSITIVE_DOS2_2_MUTED);RemoveStatus(PERFORM_POSITIVE_DOS2_3_MUTED)"
data "ToggleOffFunctors" "RemoveStatus(QUIET_HOUR);RemoveStatus(CPERFORM_POSITIVE);RemoveStatus(CPERFORM_NEGATIVE);RemoveStatus(PERFORMATIVE_INTRO);RemoveStatus(PERFORMATIVE_VERSE);RemoveStatus(PERFORMATIVE_CHORUS);RemoveStatus(CPERFORM_POSITIVE_THEPOWER);RemoveStatus(CPERFORM_POSITIVE_STARGAZING);RemoveStatus(CPERFORM_POSITIVE_BARDDANCE);RemoveStatus(CPERFORM_POSITIVE_DOS2_1);RemoveStatus(CPERFORM_POSITIVE_DOS2_2);RemoveStatus(CPERFORM_POSITIVE_DOS2_3);RemoveStatus(PERFORM_POSITIVE_THEPOWER);RemoveStatus(PERFORM_POSITIVE_STARGAZING);RemoveStatus(PERFORM_POSITIVE_BARDDANCE);RemoveStatus(PERFORM_POSITIVE_DOS2_1);RemoveStatus(PERFORM_POSITIVE_DOS2_2);RemoveStatus(PERFORM_POSITIVE_DOS2_3);RemoveStatus(PERFORM_POSITIVE_THEPOWER_MUTED);RemoveStatus(PERFORM_POSITIVE_STARGAZING_MUTED);RemoveStatus(PERFORM_POSITIVE_BARDDANCE_MUTED);RemoveStatus(PERFORM_POSITIVE_DOS2_1_MUTED);RemoveStatus(PERFORM_POSITIVE_DOS2_2_MUTED);RemoveStatus(PERFORM_POSITIVE_DOS2_3_MUTED)"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_TidesOfChaos_BodyFX_01:Dummy_BodyFX:;VFX_Spells_Cast_Sorcerer_Shout_EyeFX_01:Dummy_EyeFX_01:;VFX_Spells_Cast_Sorcerer_Shout_EyeFX_02:Dummy_EyeFX_02:;"

new entry "Force_Perform_Player"
type "PassiveData"
data "Properties" "IsHidden;OncePerCombat"
data "StatsFunctorContext" "OnCombatStarted;OnTurn"
data "StatsFunctors" "IF(Combat() and not HasStatus('SILENCED') and not HasStatus('SG_Polymorph') and not (HasStatus('CPERFORM_POSITIVE') or HasStatus('PERFORMATIVE_VERSE') or HasStatus('PERFORMATIVE_CHORUS'))):UseSpell(Shout_Bard_Perform_ThePower_Whistle,true,true,true)"

new entry "Perform_Movement"
type "PassiveData"
data "Properties" "IsHidden"
data "BoostConditions" "not HasPassive('ParadeMarch', context.Source)"
data "Boosts" "ActionResourceBlock(Movement)"

new entry "Perform_Shielding"
type "PassiveData"
data "Properties" "IsHidden"
data "BoostConditions" "HasPassive('PerformativeShielding', context.Source) and HasStatus('CPERFORM_POSITIVE', context.Source)"
data "Boosts" "Resistance(Bludgeoning,Resistant);Resistance(Piercing,Resistant);Resistance(Slashing,Resistant)"

new entry "Perform_Captivation"
type "PassiveData"
data "Properties" "IsHidden"
data "BoostConditions" "HasPassive('CountenanceofStoicism', context.Source) and HasStatus('CPERFORM_POSITIVE', context.Source)"
data "Boosts" "ConcentrationIgnoreDamage()"

new entry "BardicInspiration"
type "PassiveData"
data "DisplayName" "h528aa4bcg3012g4adbgb0f0g722f1cc4a697;1"
data "Description" "h72b05205geb2eg497ag9956g8ad042848258;1"
data "DescriptionParams" "LevelMapValue(BardicInspiration)"
data "Icon" "PassiveFeature_BardicInspiration_Ability"
data "Boosts" "IF(not HasPassive('CombatInspiration', context.Source)):UnlockSpell(Target_BardicInspiration)"

new entry "BardSpellcasting"
type "PassiveData"
data "DisplayName" "hc9735187g68cag427ag8680g4eff5dkkdkf1;1"
data "Description" "h843e9f50g1485g4d5dgbc14g6bss6f9ss6fa;1"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_BardicInspiration_Ability"

new entry "Accelerated_Tempo_Intro"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(ClassLevelHigherOrEqualThan(1,'Bard') or not Player() and HasPassive('Mute_Songs_NPC',context.Source)):UnlockSpell(Shout_Accelerated_Tempo_Intro)"
data "StatsFunctorContext" "OnDamaged"
data "StatsFunctors" "ApplyStatus(SWAP,PERFORMANCE_REMOVER,100,0)"

new entry "Accelerated_Tempo_Verse"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(ClassLevelHigherOrEqualThan(1,'Bard') or not Player() and HasPassive('Mute_Songs_NPC',context.Source)):UnlockSpell(Shout_Reduced_Tempo_Verse);IF(ClassLevelHigherOrEqualThan(1,'Bard') or not Player() and HasPassive('Mute_Songs_NPC',context.Source)):UnlockSpell(Shout_Accelerated_Tempo_Verse)"
data "StatsFunctorContext" "OnDamaged"
data "StatsFunctors" "ApplyStatus(SWAP,PERFORMANCE_REMOVER,100,0)"

new entry "Accelerated_Tempo_Chorus"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(ClassLevelHigherOrEqualThan(1,'Bard') or not Player() and HasPassive('Mute_Songs_NPC',context.Source)):UnlockSpell(Shout_Reduced_Tempo_Chorus);IF(ClassLevelHigherOrEqualThan(1,'Bard') and HasPassive('TheBestKeptSecrets', context.Source) or not Player() and HasPassive('Mute_Songs_NPC',context.Source) and HasPassive('TheBestKeptSecrets', context.Source)):UnlockSpell(Shout_Climax_CollegeofLore);IF(ClassLevelHigherOrEqualThan(1,'Bard') and (HasPassive('Steelforged_Melee', context.Source) or HasPassive('Steelforged_Ranged', context.Source)) or not Player() and HasPassive('Mute_Songs_NPC',context.Source) and (HasPassive('Steelforged_Melee', context.Source) or HasPassive('Steelforged_Ranged', context.Source))):UnlockSpell(Shout_Climax_CollegeofSwords);IF(ClassLevelHigherOrEqualThan(1,'Bard') and HasPassive('CombatInspiration', context.Source) or not Player() and HasPassive('Mute_Songs_NPC',context.Source) and HasPassive('CombatInspiration', context.Source)):UnlockSpell(Shout_Climax_CollegeofValour);IF(ClassLevelHigherOrEqualThan(1,'Bard') and HasPassive('MantleofInspiration', context.Source) or not Player() and HasPassive('Mute_Songs_NPC',context.Source) and HasPassive('MantleofInspiration', context.Source)):UnlockSpell(Shout_Climax_CollegeofCaptivation)"
data "StatsFunctorContext" "OnDamaged"
data "StatsFunctors" "ApplyStatus(SWAP,PERFORMANCE_REMOVER,100,0)"

new entry "Encore_Verse"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(ClassLevelHigherOrEqualThan(1,'Bard') or not Player() and HasPassive('Mute_Songs_NPC',context.Source)):UnlockSpell(Shout_Reduced_Tempo_Verse_Encore)"

new entry "Encore_Chorus"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(ClassLevelHigherOrEqualThan(1,'Bard') or not Player() and HasPassive('Mute_Songs_NPC',context.Source)):UnlockSpell(Shout_Reduced_Tempo_Chorus_Encore)"

new entry "Encore_Recovery"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsPerformanceSpell() and HasUseCosts('BardicInspiration', true)"
data "StatsFunctors" "IF(HasStatus('FIRST_NOTE',context.Source) and HasStatus('SECOND_NOTE',context.Source) and not HasStatus('THIRD_NOTE',context.Source)):ApplyStatus(SELF,THIRD_NOTE,100,3);IF(HasStatus('FIRST_NOTE',context.Source) and not HasStatus('SECOND_NOTE',context.Source)):ApplyStatus(SELF,SECOND_NOTE,100,3);IF(not HasStatus('FIRST_NOTE',context.Source)):ApplyStatus(SELF,FIRST_NOTE,100,3)"

new entry "BardicInspiration_Ability"
type "PassiveData"
data "DisplayName" "h22af06bagd2d2g4b30ga1adg8e1cdfa85c72;2"
data "Description" "hd8bd4b9fg59a5g4295g9ab0g1915746c3a53;1"
data "DescriptionParams" "1d4"
data "ExtraDescription" "h67a7eabdg4358g4f61g8997gbeaaff0cd8f8;1"
data "TooltipUseCosts" "BardicInspiration:1"
data "Icon" "PassiveFeature_BardicInspiration_Ability"
data "Properties" "IsToggled;ToggledDefaultOn;Temporary"
data "Boosts" "RollBonus(SkillCheck,1d4);RollBonus(RawAbility,1d4)"
data "StatsFunctorContext" "OnAbilityCheck"
data "StatsFunctors" "RemoveStatus(SELF,BARDIC_INSPIRATION)"
data "ToggleOnEffect" "VFX_Spells_Cast_Bard_Generic_BodyFX_Passive_BardicInspiration_Ability_01:Dummy_BodyFX:;"

new entry "BardicInspiration_d8"
type "PassiveData"
using "BardicInspiration"
data "DescriptionParams" "1d8"

new entry "BardicInspiration_Ability_d8"
type "PassiveData"
using "BardicInspiration_Ability"
data "DescriptionParams" "1d8"
data "Boosts" "RollBonus(SkillCheck,1d8);RollBonus(RawAbility,1d8)"
data "StatsFunctors" "RemoveStatus(SELF,BARDIC_INSPIRATION_D8)"

new entry "BardicInspiration_d10"
type "PassiveData"
using "BardicInspiration_d8"
data "DescriptionParams" "1d12"

new entry "BardicInspiration_Ability_d10"
type "PassiveData"
using "BardicInspiration_Ability"
data "DescriptionParams" "1d12"
data "Boosts" "RollBonus(SkillCheck,1d12);RollBonus(RawAbility,1d12)"
data "StatsFunctors" "RemoveStatus(SELF,BARDIC_INSPIRATION_D10)"

new entry "SongofRest"
type "PassiveData"
data "DisplayName" "h14ae10b8g4dfbg4ad7g9f30gdf2a7c164a84;2"
data "Description" "h52a66fd1g9928g4369ga3c3gcbefefb21a98;4"
data "Icon" "Action_Bard_SongOfRest"
data "Boosts" "IF(not HasPassive('SongofValor', context.Source)):UnlockSpell(Shout_SongOfRest)"

new entry "FontOfInspiration"
type "PassiveData"
data "DisplayName" "hb117050dg0016g4833g87f0g8d614082da8d;1"
data "Description" "h893450deg4af3g43f4gad83g7b35893b360c;2"
data "Icon" "PassiveFeature_FontOfInspiration"
data "Properties" "Highlighted;ForceShowInCC;OncePerCombat"
data "StatsFunctorContext" "OnCombatStarted;OnTurn"
data "Conditions" "Combat()"
data "StatsFunctors" "IF(not HasPassive('FontOfValor', context.Source)):RestoreResource(BardicInspiration, 3, 0)"

new entry "ReliableTalent"
type "PassiveData"
data "DisplayName" "h88a5bdddge82eg43d4g9657gcace3c25649a;2"
data "Description" "hf634a0fagca4dg4bb4g858cg5bb1ba080907;3"
data "DescriptionParams" "8"
data "Icon" "PassiveFeature_ReliableTalent"
data "Properties" "Highlighted"
data "BoostConditions" "not HasPassive('ReliableValor', context.Source)"
data "Boosts" "IF(HasProficiencyBonus(context.CheckedAbility,context.CheckedSkill,context.Source)):MinimumRollResult(RawAbility,8);IF(HasProficiencyBonus(context.CheckedAbility,context.CheckedSkill,context.Source)):MinimumRollResult(SkillCheck,8);IF(HasProficiencyBonus(context.CheckedAbility,context.CheckedSkill,context.Source)):MinimumRollResult(SavingThrow,8)"

<!--COLLEGE OF CAPTIVATION-->

new entry "MantleofInspiration"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00001;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000a;1"
data "DescriptionParams" "Distance(18)"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "Highlighted;ForceShowInCC"

new entry "MantleofInspiration_Charm"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00001;1"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000a;1"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnAttacked"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not SpellTypeIs(SpellType.Throw)"
data "StatsFunctors" "ApplyStatus(SWAP,CHARMED,100,1);ApplyStatus(PASSIVE_MANTLE_OF_INSPIRATION,100,0);ApplyStatus(SELF,PASSIVE_MANTLE_OF_INSPIRATION_ATTACKER,100,0)"

new entry "ParadeMarch"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00002;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000b;1"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "Highlighted;ForceShowInCC;IsToggled;ToggledDefaultAddToHotbar"

new entry "CoverofCaptivation"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00003;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000c;1"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockInterrupt(Interrupt_CoverofCaptivation)"

new entry "CaptivatingReclaim"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00004;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000d;1"
data "DescriptionParams" "Distance(18)"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "Highlighted;ForceShowInCC"
data "StatsFunctorContext" "OnCreate;OnLongRest"
data "StatsFunctors" "IF(not HasStatus('CAPTIVATINGRECLAIM', context.Source)):ApplyStatus(SELF,CAPTIVATINGRECLAIM,100,-1)"

new entry "CaptivatingReclaim_Actual"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00004;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000d;1"
data "DescriptionParams" "Distance(18)"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnStatusApplied"
data "Conditions" "StatusId('CHARMED')"
data "StatsFunctors" "CreateExplosion(SELF,Projectile_CaptivatingReclaim)"

new entry "PerformativeShielding"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00005;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000e;2"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "Highlighted;ForceShowInCC"

new entry "CountenanceofStoicism"
type "PassiveData"
data "DisplayName" "habfab1deg96a3g4928gbb99g29b61ef00006;2"
data "Description" "hacc1d957g1ef1g4debg9f26gc25bcf40000f;2"
data "Icon" "Action_MantleOfInspiration"
data "Properties" "Highlighted;ForceShowInCC"

<!--COLLEGE OF LORE-->

new entry "TheBestKeptSecrets"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a5a8a44;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e458848;2"
data "Icon" "PassiveFeature_ArcaneBattery"
data "Properties" "Highlighted;ForceShowInCC"

new entry "CriticalSecrets"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a59a555;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e41a354;2"
data "Icon" "PassiveFeature_ArcaneBattery"
data "Properties" "Highlighted;ForceShowInCC"
data "StatsFunctorContext" "OnStatusApply"
data "Conditions" "StatusId('BARDIC_INSPIRATION') or StatusId('BARDIC_INSPIRATION_D8') or StatusId('BARDIC_INSPIRATION_D10') or StatusId('BARDIC_INSPIRATION_COMBAT') or StatusId('BARDIC_INSPIRATION_COMBAT_D8') or StatusId('BARDIC_INSPIRATION_COMBAT_D10')"
data "StatsFunctors" "ApplyStatus(SELF,CRITICALSECRETS,100,-1)"

new entry "MysticEchoes"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a53a332;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e4sdf55;2"
data "Icon" "PassiveFeature_ArcaneBattery"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "Enemy() and IsSpell() and not IsCantrip() and not Self() and not IsMiss() and not IsLastConditionRollSuccess(ConditionRollType.ConditionSavingThrow) and (HasSavingThrowWithAbility(Ability.Intelligence) or HasSavingThrowWithAbility(Ability.Charisma) or HasSavingThrowWithAbility(Ability.Wisdom))"
data "StatsFunctors" "ApplyStatus(SELF,MACABRESECRETS,100,0)"

new entry "BindingVows"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a55d222;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e49a998;2"
data "Icon" "PassiveFeature_ArcaneBattery"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "SpellSaveDC(2)"

new entry "MacabreSecrets"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a5adsf2;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e4asdf9;2"
data "Icon" "PassiveFeature_ArcaneBattery"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsKillingBlow() and Character() and not Self() and not Ally() and IsSpell()"
data "StatsFunctors" "ApplyStatus(SELF,MACABRESECRETS,100,0)"

new entry "VowofSafety"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a23343d;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e4a66d8;2"
data "Icon" "PassiveFeature_ArcaneBattery"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "Advantage(SavingThrow, Strength);Advantage(SavingThrow, Dexterity);Advantage(SavingThrow, Constitution);Advantage(SavingThrow, Wisdom);Advantage(SavingThrow, Intelligence);Advantage(SavingThrow, Charisma)"

<!--COLLEGE OF STEEL-->

new entry "Steelforged_Melee"
type "PassiveData"
data "DisplayName" "439cb1c55ce44da8b8f3ccd2e23204f500000;1"
data "Description" "439cb1c55ce44da8b8f3ccd2e23204f50000z;2"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpell(Target_BladeFlourish_Defensive);UnlockSpell(Target_BladeFlourish_Mobile);UnlockSpell(Zone_BladeFlourish_Slashing)"

new entry "Steelforged_Ranged"
type "PassiveData"
data "DisplayName" "439cb1c55ce44da8b8f3ccd2e23204f5000z0;1"
data "Description" "439cb1c55ce44da8b8f3ccd2e23204f5000zz;2"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpell(Projectile_BladeFlourish_Defensive);UnlockSpell(Projectile_BladeFlourish_Mobile);UnlockSpell(Projectile_BladeFlourish_Slashing)"

new entry "Melodic_Steel"
type "PassiveData"
data "DisplayName" "439cb1c55ce44da8b8f3ccd2e23204f59488d;1"
data "Description" "439cb1c55ce44da8b8f3ccd2e23204f532lkd;2"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsKillingBlow() and Character() and not Self() and not Ally() and IsWeaponAttack() or IsCritical() and Character() and not Self() and not Ally() and IsWeaponAttack()"
data "StatsFunctors" "ApplyStatus(SELF,MELODIC_STEEL,100,0)"

new entry "ExtraAttack_SwordsBard"
type "PassiveData"
data "DisplayName" "hcf90a672g10deg4b3egad4fg9094c6ac6224;1"
data "Description" "he37249cfg5d71g499cg82d9gc369133f2066;2"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "StatsFunctorContext" "OnAttack;OnCast;OnDamage"
data "Conditions" "(IsWeaponAttack() or IsUnarmedAttack() or IsRangedUnarmedAttack()) and not IsReactionAttack()"
data "StatsFunctors" "ApplyStatus(SELF,EXTRA_ATTACK, 100, 1)"

new entry "SteelCast_SwordsBard"
type "PassiveData"
data "DisplayName" "hb5a027a4g2934g40bfga5e1g7cb821278a54;2"
data "Description" "h87a4cfdbg2ba1g4a61gbbe7g540a28a9a966;3"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "StatsFunctorContext" "OnAttack;OnCast;OnDamage"
data "Conditions" "(IsWeaponAttack() or IsUnarmedAttack() or IsRangedUnarmedAttack()) or (IsSpell() and not IsCantrip()) and not IsReactionAttack()"
data "StatsFunctors" "ApplyStatus(SELF,EXTRA_ATTACK, 100, 1)"

new entry "Performative_Edge"
type "PassiveData"
data "DisplayName" "439cb1c55ce44da8b8f3ccs6d54fs6d600001;2"
data "Description" "439cb1c55ce44da8b8f3as5d6f4545840000a;3"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "IF((HasStatus('PERFORMATIVE_INTRO', context.Source) or HasStatus('PERFORMATIVE_VERSE', context.Source) or HasStatus('PERFORMATIVE_CHORUS', context.Source)) and IsWeaponAttack()):Advantage(AttackRoll)"

new entry "Climactic_Strikes"
type "PassiveData"
data "DisplayName" "439cb1c55ce44da8b8f3c8eurwueffd500002;1"
data "Description" "439cb1c55ce44da8b8f3c9a8sdf9u9f50000b;2"
data "Icon" "PassiveFeature_FightingStyle_Duelling"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsWeaponAttack() and (HasStatus('PERFORMATIVE_INTRO', context.Source) or HasStatus('PERFORMATIVE_VERSE', context.Source)) and (IsKillingBlow() and Character() and not Self() and not Ally() or IsCritical() and Character() and not Self() and not Ally())"
data "StatsFunctors" "RemoveStatus(SELF,PERFORMATIVE_INTRO);RemoveStatus(SELF,PERFORMATIVE_VERSE);ApplyStatus(SELF,PERFORMATIVE_CHORUS,100,1)"

<!--COLLEGE OF VALOR-->

new entry "CombatInspiration"
type "PassiveData"
data "DisplayName" "hbd0341e3g775bg4a92g84feg270e44176bdb;1"
data "Description" "hda0191b3gc731g48f8g8036gb222178522fb;1"
data "DescriptionParams" "Distance(18)"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpell(Target_BardicInspiration_Combat)"

new entry "CombatInspiration_Ability"
type "PassiveData"
data "DisplayName" "h9e3b46a1g170ag4dcdgac5ag7218283b3961;2"
data "Description" "hee79482dgd994g44d9g9701gff081730e822;1"
data "DescriptionParams" "1d4"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "IsToggled;ToggledDefaultOn;Temporary"
data "Boosts" "RollBonus(SkillCheck,1d4);RollBonus(RawAbility,1d4)"
data "StatsFunctorContext" "OnAbilityCheck"
data "StatsFunctors" "RemoveStatus(SELF,BARDIC_INSPIRATION_COMBAT)"
data "ToggleOnEffect" "VFX_Spells_Cast_Bard_Generic_BodyFX_Passive_Combat_01:Dummy_BodyFX:;"

new entry "CombatInspiration_Ability_d8"
type "PassiveData"
data "DisplayName" "h7bcdfc4fga0f3g42d0g9d1dgbedaaab3ef1f;1"
data "Description" "had86657dg7eadg4dbdg855dg08a36842c9d5;1"
data "DescriptionParams" "1d8"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "IsToggled;ToggledDefaultOn;Temporary"
data "Boosts" "RollBonus(SkillCheck,1d8);RollBonus(RawAbility,1d8)"
data "StatsFunctorContext" "OnAbilityCheck"
data "StatsFunctors" "RemoveStatus(SELF,BARDIC_INSPIRATION_COMBAT_D8)"
data "ToggleOnEffect" "VFX_Spells_Cast_Bard_Generic_BodyFX_Passive_Combat_01:Dummy_BodyFX:;"

new entry "CombatInspiration_Ability_d10"
type "PassiveData"
using "CombatInspiration_Ability"
data "DescriptionParams" "1d12"
data "Boosts" "RollBonus(SkillCheck,1d12);RollBonus(RawAbility,1d12)"
data "StatsFunctors" "RemoveStatus(SELF,BARDIC_INSPIRATION_COMBAT_D10)"

new entry "SongofValor"
type "PassiveData"
data "DisplayName" "h14ae10b8g4dfbg4ad7g9f30gdf2a7c164a85;2"
data "Description" "h52a66fd1g9928g4369ga3c3gcbefefb21a99;4"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpell(Shout_SongOfValor)"

new entry "ValorousCamaraderie"
type "PassiveData"
data "DisplayName" "h22af06bagd2d2g4b30ga1adg8e6a48155122;2"
data "Description" "hd8bd4b9fg59a5g4295g9ab0g199a999778dd;1"
data "DescriptionParams" "Distance(9);DealDamage(LevelMapValue(BardicInspiration), Thunder)"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "Highlighted;ForceShowInCC"
data "Boosts" "UnlockSpellVariant(SpellId('Target_BardicInspiration_Combat'),ModifyNumberOfTargets(AdditiveBase,2,true))"

new entry "FontOfValor"
type "PassiveData"
data "DisplayName" "hb117050dg0016g4833g87f0g8d614082da8e;3"
data "Description" "h893450deg4af3g43f4gad83g7b35893b360d;2"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "Highlighted;ForceShowInCC"
data "StatsFunctorContext" "OnTurn"
data "Conditions" "Combat()"
data "StatsFunctors" "IF(not HasStatus('FONT_OF_VALOR', context.Source)):ApplyStatus(SELF,FONT_OF_VALOR,100,3)"

new entry "FontOfValor2"
type "PassiveData"
data "Properties" "IsHidden;OncePerCombat"
data "StatsFunctorContext" "OnCombatStarted;OnTurn"
data "Conditions" "Combat()"
data "StatsFunctors" "RestoreResource(BardicInspiration, 3, 0)"

new entry "ValianceSupreme"
type "PassiveData"
data "DisplayName" "h22af06bagd2d2g4b30ga1adg8e6a4816a784;2"
data "Description" "hd8bd4b9fg59a5g4295g9ab0g199a9998a999;1"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Properties" "Highlighted;ForceShowInCC"

new entry "ReliableValor"
type "PassiveData"
data "DisplayName" "he0912b6fge4b5g4b8fgbc26ge66a9a5a8a45;3"
data "Description" "hbf18c5f4g3952g4e08gaeb6ga9228e458849;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_BardicInspiration_Damage"
data "Boosts" "IF(HasProficiencyBonus(context.CheckedAbility,context.CheckedSkill,context.Source)):MinimumRollResult(RawAbility,99);IF(HasProficiencyBonus(context.CheckedAbility,context.CheckedSkill,context.Source)):MinimumRollResult(SkillCheck,99);IF(HasProficiencyBonus(context.CheckedAbility,context.CheckedSkill,context.Source)):MinimumRollResult(SavingThrow,99)"

<!--PASSIVES-->

new entry "Aggressive_Rhythm"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00001;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000a;2"
data "DescriptionParams" "Distance(18)"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "IF(HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_VERSE',context.Source) and not HasStatus('PERFORMATIVE_CHORUS',context.Source)):DamageBonus(2);IF(HasStatus('PERFORMATIVE_VERSE',context.Source) and not HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_CHORUS',context.Source)):DamageBonus(3);IF(HasStatus('PERFORMATIVE_CHORUS',context.Source) and not HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_VERSE',context.Source)):DamageBonus(4)"

new entry "Discerning_Insult"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00002;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000b;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "UnlockInterrupt(Interrupt_CuttingWords)"

new entry "Distracting_Dissonance"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00003;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000c;2"
data "DescriptionParams" "Distance(18)"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"

new entry "Dueling_Ditties"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00004;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000d;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "RollBonus(Attack,LevelMapValue(BardicInspiration))"

new entry "Echoes_of_Fortitude"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00005;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000e;2"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnStatusApply"
data "Conditions" "StatusId('BARDIC_INSPIRATION') or StatusId('BARDIC_INSPIRATION_D8') or StatusId('BARDIC_INSPIRATION_D10') or StatusId('BARDIC_INSPIRATION_COMBAT') or StatusId('BARDIC_INSPIRATION_COMBAT_D8') or StatusId('BARDIC_INSPIRATION_COMBAT_D10')"
data "StatsFunctors" "RegainHitPoints(SELF,1d6*ProficiencyBonus)"

new entry "Encouraging_Momentum"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00006;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000f;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnStatusApply"
data "Conditions" "StatusId('BARDIC_INSPIRATION') or StatusId('BARDIC_INSPIRATION_D8') or StatusId('BARDIC_INSPIRATION_D10') or StatusId('BARDIC_INSPIRATION_COMBAT') or StatusId('BARDIC_INSPIRATION_COMBAT_D8') or StatusId('BARDIC_INSPIRATION_COMBAT_D10')"
data "StatsFunctors" "ApplyStatus(SELF,DASH,100,1);ApplyStatus(SELF,DISENGAGE,100,1)"

new entry "Engaging_Composition"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00007;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000g;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "UnlockSpell(Target_CommanderStrike_Attack_D8_Bard_Caster);UnlockSpell(Projectile_CommanderStrike_Attack_D8_Bard_Caster)"

new entry "Guiding_Performance"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00008;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000h;2"
data "DescriptionParams" "Distance(9)"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "Character() and not Self() and not Ally()"
data "StatsFunctors" "IF(RollDieAgainstDC(DiceType.d10,9)):CreateExplosion(SELF,Projectile_BardicInspiration)"

new entry "Harmonious_Aura"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00009;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000i;2"
data "DescriptionParams" "Distance(18)"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "IF(HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_VERSE',context.Source) and not HasStatus('PERFORMATIVE_CHORUS',context.Source)):RollBonus(SavingThrow,1);IF(HasStatus('PERFORMATIVE_VERSE',context.Source) and not HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_CHORUS',context.Source)):RollBonus(SavingThrow,2);IF(HasStatus('PERFORMATIVE_CHORUS',context.Source) and not HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_VERSE',context.Source)):RollBonus(SavingThrow,3);IF(HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_VERSE',context.Source) and not HasStatus('PERFORMATIVE_CHORUS',context.Source)):RollBonus(DeathSavingThrow,1);IF(HasStatus('PERFORMATIVE_VERSE',context.Source) and not HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_CHORUS',context.Source)):RollBonus(DeathSavingThrow,2);IF(HasStatus('PERFORMATIVE_CHORUS',context.Source) and not HasStatus('PERFORMATIVE_INTRO',context.Source) and not HasStatus('PERFORMATIVE_VERSE',context.Source)):RollBonus(DeathSavingThrow,3)"

new entry "Infuriating_Amplification"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00010;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000j;2"
data "DescriptionParams" "Distance(18)"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"

new entry "Inspirational_Resonance"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00011;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000k;2"
data "DescriptionParams" "Distance(9)"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"

new entry "Inspiring_Crescendo"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00012;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000l;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "RollBonus(SavingThrow,LevelMapValue(BardicInspiration));RollBonus(DeathSavingThrow,LevelMapValue(BardicInspiration))"

new entry "Insufferable_Discord"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00013;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000m;2"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "HasAllyWithinRange('SG_Incapacitated',18, nil, nil, context.Source, context.Target) and IsCritical() and Character() and not Self() and not Ally() and not HasStatus('LOCKDOWN_CONDITION') and not HasPassive('Dangerous_Encounter') and not HasPassive('Fatal_Encounter')"
data "StatsFunctors" "ApplyStatus(DOMINATE_PERSON,100,1)"

new entry "Melodic_Precision"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00014;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000n;2"
data "Properties" "Highlighted;ForceShowInCC;OncePerTurn"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "IsCritical() and Character() and not Self() and not Ally()"
data "StatsFunctors" "ApplyStatus(SELF,MELODIC_PRECISION,100,0)"

new entry "Mobile_Maestro"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00015;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000o;2"
data "Properties" "Highlighted;IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar"
data "Icon" "PassiveFeature_MagicInitiateBard"

new entry "Mocksmith"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00016;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000p;2"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "Character() and not Self() and not HasStatus('VICIOUSMOCKERY', context.Target)"
data "StatsFunctors" "IF(not SavingThrow(Ability.Wisdom, SourceSpellDC())):ApplyStatus(VICIOUSMOCKERY,100,1)"

new entry "Silver_Tongued_Savant"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00017;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000q;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "Boosts" "Advantage(Ability, Charisma)"

new entry "Soothing_Words"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00018;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000r;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"

new entry "Unprecedented_Encore"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00019;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000s;2"
data "Properties" "Highlighted;ForceShowInCC"
data "Icon" "PassiveFeature_MagicInitiateBard"

new entry "Vigorously_Tuned"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00020;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000t;2"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "Highlighted;ForceShowInCC;OncePerCombat"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnCombatStarted;OnTurn"
data "Conditions" "Combat()"
data "StatsFunctors" "ApplyStatus(SELF,VIGOROUSLY_TUNED,100,-1);"

<!--SUMMON PASSIVES-->

new entry "Summon_Guiding_Performance"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00008;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000h;2"
data "DescriptionParams" "Distance(9)"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "IsHidden"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "HasPassive('Guiding_Performance',GetSummoner(context.Source)) and Character() and not Self() and not Ally()"
data "StatsFunctors" "IF(RollDieAgainstDC(DiceType.d10,9)):CreateExplosion(SELF,Projectile_BardicInspiration)"

new entry "Summon_Insufferable_Discord"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00013;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000m;2"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "IsHidden"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "(HasPassive('Insufferable_Discord',GetSummoner(context.Source)) or HasPassive('Insufferable_Discord_Item',GetSummoner(context.Source))) and HasAllyWithinRange('SG_Incapacitated',18, nil, nil, context.Source, context.Target) and IsCritical() and Character() and not Self() and not Ally() and not HasStatus('LOCKDOWN_CONDITION') and not HasPassive('Dangerous_Encounter') and not HasPassive('Fatal_Encounter')"
data "StatsFunctors" "ApplyStatus(DOMINATE_PERSON,100,1)"

new entry "Summon_Mocksmith"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00016;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000p;2"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "IsHidden"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "(HasPassive('Mocksmith',GetSummoner(context.Source)) or HasPassive('Mocksmith_Item',GetSummoner(context.Source))) and Character() and not Self() and not HasStatus('VICIOUSMOCKERY', context.Target)"
data "StatsFunctors" "IF(not SavingThrow(Ability.Wisdom, SourceSpellDC())):ApplyStatus(VICIOUSMOCKERY,100,1)"

new entry "Summon_Vigorously_Tuned"
type "PassiveData"
data "DisplayName" "171ffb649bb448399193ed1c0d6896dd00020;3"
data "Description" "171ffb649bb448399193ed1c0d6896dd0000t;2"
data "ExtraDescription" "h197f62bbgd1ddg4436g90df5s6s5d4f56f45"
data "Properties" "IsHidden"
data "Icon" "PassiveFeature_MagicInitiateBard"
data "StatsFunctorContext" "OnCombatStarted;OnTurn"
data "Conditions" "(HasPassive('Vigorously_Tuned',GetSummoner(context.Source)) or HasPassive('Vigorously_Tuned_Item',GetSummoner(context.Source))) and Combat()"
data "StatsFunctors" "ApplyStatus(SELF,VIGOROUSLY_TUNED,100,-1);"

<!--REWARD FOR RESCUING ALFIRA IN ACT 2-->

new entry "TieflingFollowup_BardicInspiration"
type "PassiveData"
data "DisplayName" "h5fe69d31gb462g4451g9ee8g1100cd000001;2"
data "Description" "h5fe69d31gb462g4451g9ee8g1100cd00000a;1"
data "Icon" "Action_Bard_RestoreBardicInspiration"
data "Properties" "Highlighted;ForceShowInCC"
data "StatsFunctorContext" "OnShortRest;OnRest"
data "StatsFunctors" "ApplyStatus(SELF,BARDIC_INSPIRATION_D10,100,-1)"

<!--FORCE NPCS TO PERFORM-->

new entry "Force_Perform_NPC"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnCombatStarted;OnTurn"
data "StatsFunctors" "IF(not HasStatus('QUIET_HOUR')):ApplyStatus(QUIET_HOUR,100,-1);IF(not HasStatus('FORCE_PERFORM_NPC')):ApplyStatus(FORCE_PERFORM_NPC,100,-1)"

new entry "FORCE_PERFORM_NPC"
type "StatusData"
data "StatusType" "BOOST"
data "HitAnimationType" "None"
data "StackId" "FORCE_PERFORM_NPC"
data "StackType" "Ignore"
data "TickFunctors" "IF(RollDieAgainstDC(DiceType.d20,10) and Combat() and not HasStatus('SILENCED') and not HasStatus('SG_Polymorph') and not (HasStatus('PERFORM_POSITIVE_THEPOWER_MUTED') or HasStatus('CPERFORM_POSITIVE_THEPOWER') or HasStatus('CPERFORM_POSITIVE') or HasStatus('PERFORMATIVE_VERSE') or HasStatus('PERFORMATIVE_CHORUS'))):UseSpell(Shout_Bard_Perform_ThePower_Whistle,true,true,true);IF(RollDieAgainstDC(DiceType.d20,10) and Combat() and not HasStatus('SILENCED') and not HasStatus('SG_Polymorph') and not (HasStatus('PERFORM_POSITIVE_THEPOWER_MUTED') or HasStatus('CPERFORM_POSITIVE_THEPOWER') or HasStatus('CPERFORM_POSITIVE') or HasStatus('PERFORMATIVE_VERSE') or HasStatus('PERFORMATIVE_CHORUS'))):UseSpell(Shout_Bard_Perform_Stargazing_Whistle,true,true,true);IF(RollDieAgainstDC(DiceType.d20,10) and Combat() and not HasStatus('SILENCED') and not HasStatus('SG_Polymorph') and not (HasStatus('PERFORM_POSITIVE_THEPOWER_MUTED') or HasStatus('CPERFORM_POSITIVE_THEPOWER') or HasStatus('CPERFORM_POSITIVE') or HasStatus('PERFORMATIVE_VERSE') or HasStatus('PERFORMATIVE_CHORUS'))):UseSpell(Shout_Bard_Perform_BardDance_Whistle,true,true,true)"
data "TickType" "StartTurn"
data "RemoveEvents" "OnCombatEnded"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"

new entry "Mute_Songs_NPC"
type "PassiveData"
data "DisplayName" "h4d0c77c3g56aag4077g80c4g3bk231251215;1"
data "Description" "h078069acgf62bg4c64g9322938r645686545;2"
data "Icon" "Spell_Enchantment_MotivationalSpeech"
data "Properties" "Highlighted;IsToggled;ToggledDefaultAddToHotbar"
data "ToggleOnFunctors" "ApplyStatus(SELF,QUIET_HOUR,100,-1);IF(HasStatus('CPERFORM_POSITIVE_THEPOWER') or HasStatus('CPERFORM_POSITIVE_STARGAZING') or HasStatus('CPERFORM_POSITIVE_BARDDANCE') or HasStatus('CPERFORM_POSITIVE_DOS2_1') or HasStatus('CPERFORM_POSITIVE_DOS2_2') or HasStatus('CPERFORM_POSITIVE_DOS2_3')):BreakConcentration()"
data "ToggleOffFunctors" "RemoveStatus(SELF,QUIET_HOUR);IF(HasStatus('PERFORM_POSITIVE_THEPOWER_MUTED') or HasStatus('PERFORM_POSITIVE_STARGAZING_MUTED') or HasStatus('PERFORM_POSITIVE_BARDDANCE_MUTED') or HasStatus('PERFORM_POSITIVE_DOS2_1_MUTED') or HasStatus('PERFORM_POSITIVE_DOS2_2_MUTED') or HasStatus('PERFORM_POSITIVE_DOS2_3_MUTED')):BreakConcentration()"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_TidesOfChaos_BodyFX_01:Dummy_BodyFX:;VFX_Spells_Cast_Sorcerer_Shout_EyeFX_01:Dummy_EyeFX_01:;VFX_Spells_Cast_Sorcerer_Shout_EyeFX_02:Dummy_EyeFX_02:;"
