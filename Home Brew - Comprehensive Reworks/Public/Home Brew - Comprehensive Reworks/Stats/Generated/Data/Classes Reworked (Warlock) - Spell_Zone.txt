<!--PACT OF THE TOME-->

new entry "Zone_EldritchLance"
type "SpellData"
data "SpellType" "Zone"
data "Level" "1"
data "SpellSchool" "Evocation"
data "SurfaceType" "Sentinel"
data "SurfaceLifetime" "0"
data "SurfaceGrowStep" "5"
data "SurfaceGrowInterval" "10"
data "SpellRoll" "Attack(AttackType.RangedSpellAttack)"
data "SpellSuccess" "IF(not HasPassive('ChainedCompanionship',context.Target) and (not HasPassive('EldritchOverflow', context.Source) and not HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(1d12, Force,Magical);IF(not HasPassive('ChainedCompanionship',context.Target) and (HasPassive('EldritchOverflow', context.Source) or HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(1d12,Force,Magical);IF(HasPassive('EldritchEnervation',context.Source) and Character(context.Target) and not HasPassive('ChainedCompanionship',context.Target)):RegainHitPoints(SELF,CharismaModifier);IF(HasPassive('RepellingBlast',context.Source)):Force(9)"
data "SpellProperties" "IF(HasPassive('BaneofthePact',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BANE,100,3);IF(HasPassive('BindingTransposition',context.Source) and HasDamageEffectFlag(DamageFlags.Hit) and Character() and TargetSizeEqualOrSmaller(Size.Large)):SwapPlaces();IF(HasPassive('HellboundVision',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BLINDED,100,1);IF(HasPassive('MasterofChaos',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):TriggerRandomCast(17,,WildMagicNegative);IF(HasPassive('ProjectedInertia',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(ELDRITCH_STRIKE,100,1);AI_ONLY:ApplyStatus(SELF,AI_HELPER_BUFF,100,0;IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))):ApplyStatus(ACCURSED_SPECTER_FEEBLE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and Tagged('WEIGHT_MEDIUM')):ApplyStatus(ACCURSED_SPECTER_MUNDANE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_LARGE') or Tagged('WEIGHT_HUGE') or Tagged('WEIGHT_GARGANTUAN'))):ApplyStatus(ACCURSED_SPECTER_PRIMORDIAL,100,-1);IF(Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source)):RegainHitPoints(1d12)"
data "TargetConditions" "not Dead() and not (HasPassive('SculptSpells', context.Source) and Ally()) and not Tagged('INVISIBLE_HELPER') or (HasPassive('DawnbreakoftheSunsetter', context.Source) and (HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player())"
data "CastTargetHitDelay" "100"
data "Icon" "Spell_Enchantment_RaulothimsPsychicLance"
data "DisplayName" "h5b41e534gf582g4d6bgb33cg06086s45d6f8;1"
data "Description" "hb0fbe645ge1dbg4106g99bege9w9er7d5685;3"
data "TooltipDamageList" "DealDamage(1d12,Force)"
data "TooltipAttackSave" "RangedSpellAttack"
data "PrepareSound" "Spell_Prepare_Damage_Force_Gen_L1to3"
data "PrepareLoopSound" "Spell_Prepare_Damage_Force_Gen_L1to3_Loop"
data "CastSound" "Spell_Cast_Damage_Force_EldritchBlast_L1to3"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "Shape" "Square"
data "FrontOffset" "-2"
data "Range" "18"
data "Base" "2"
data "CycleConditions" "Enemy() and not Dead()"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:1"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;cd5e5d4a-38e1-4d4d-b346-3fbc1e4c3c90,,;141f48d9-9615-496a-8737-9240f0dba60d,,;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellStyleGroup" "Class"
data "SpellFlags" "HasVerbalComponent;HasSomaticComponent;IsSpell;HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IsHarmful;AddFallDamageOnLand;DisplayDamageModifiers"
data "HitAnimationType" "MagicalDamage_External"
data "MemoryCost" "1"
data "PrepareEffect" "cb1c210a-6674-4184-a61c-fcc172b3667e"
data "CastEffect" "0988a329-2fa4-4b30-bdd5-08019ffd107b"
data "HitEffect" "8c5477ab-1612-4227-a6d4-5c4be4dd0020"
data "BeamEffect" "4bc7dd52-06ff-4500-9054-db4424a72d98"
data "DamageType" "Force"

new entry "Zone_EldritchLance_2"
type "SpellData"
data "SpellType" "Target"
using "Zone_EldritchLance"
data "Level" "2"
data "SpellSuccess" "IF(not HasPassive('ChainedCompanionship',context.Target) and (not HasPassive('EldritchOverflow', context.Source) and not HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(2d12, Force,Magical);IF(not HasPassive('ChainedCompanionship',context.Target) and (HasPassive('EldritchOverflow', context.Source) or HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(2d12,Force,Magical);IF(HasPassive('EldritchEnervation',context.Source) and Character(context.Target) and not HasPassive('ChainedCompanionship',context.Target)):RegainHitPoints(SELF,CharismaModifier);IF(HasPassive('RepellingBlast',context.Source)):Force(9)"
data "SpellProperties" "IF(HasPassive('BaneofthePact',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BANE,100,3);IF(HasPassive('BindingTransposition',context.Source) and HasDamageEffectFlag(DamageFlags.Hit) and Character() and TargetSizeEqualOrSmaller(Size.Large)):SwapPlaces();IF(HasPassive('HellboundVision',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BLINDED,100,1);IF(HasPassive('MasterofChaos',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):TriggerRandomCast(17,,WildMagicNegative);IF(HasPassive('ProjectedInertia',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(ELDRITCH_STRIKE,100,1);AI_ONLY:ApplyStatus(SELF,AI_HELPER_BUFF,100,0;IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))):ApplyStatus(ACCURSED_SPECTER_FEEBLE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and Tagged('WEIGHT_MEDIUM')):ApplyStatus(ACCURSED_SPECTER_MUNDANE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_LARGE') or Tagged('WEIGHT_HUGE') or Tagged('WEIGHT_GARGANTUAN'))):ApplyStatus(ACCURSED_SPECTER_PRIMORDIAL,100,-1);IF(Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source)):RegainHitPoints(2d12)"
data "TooltipDamageList" "DealDamage(2d12,Force)"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:2"
data "RootSpellID" "Zone_EldritchLance"
data "PowerLevel" "2"
data "Level" "2"

new entry "Zone_EldritchLance_3"
type "SpellData"
data "SpellType" "Target"
using "Zone_EldritchLance"
data "Level" "3"
data "SpellSuccess" "IF(not HasPassive('ChainedCompanionship',context.Target) and (not HasPassive('EldritchOverflow', context.Source) and not HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(3d12, Force,Magical);IF(not HasPassive('ChainedCompanionship',context.Target) and (HasPassive('EldritchOverflow', context.Source) or HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(3d12,Force,Magical);IF(HasPassive('EldritchEnervation',context.Source) and Character(context.Target) and not HasPassive('ChainedCompanionship',context.Target)):RegainHitPoints(SELF,CharismaModifier);IF(HasPassive('RepellingBlast',context.Source)):Force(9)"
data "SpellProperties" "IF(HasPassive('BaneofthePact',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BANE,100,3);IF(HasPassive('BindingTransposition',context.Source) and HasDamageEffectFlag(DamageFlags.Hit) and Character() and TargetSizeEqualOrSmaller(Size.Large)):SwapPlaces();IF(HasPassive('HellboundVision',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BLINDED,100,1);IF(HasPassive('MasterofChaos',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):TriggerRandomCast(17,,WildMagicNegative);IF(HasPassive('ProjectedInertia',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(ELDRITCH_STRIKE,100,1);AI_ONLY:ApplyStatus(SELF,AI_HELPER_BUFF,100,0;IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))):ApplyStatus(ACCURSED_SPECTER_FEEBLE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and Tagged('WEIGHT_MEDIUM')):ApplyStatus(ACCURSED_SPECTER_MUNDANE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_LARGE') or Tagged('WEIGHT_HUGE') or Tagged('WEIGHT_GARGANTUAN'))):ApplyStatus(ACCURSED_SPECTER_PRIMORDIAL,100,-1);IF(Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source)):RegainHitPoints(3d12)"
data "TooltipDamageList" "DealDamage(3d12,Force)"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:3"
data "RootSpellID" "Zone_EldritchLance"
data "PowerLevel" "3"
data "Level" "3"

new entry "Zone_EldritchLance_4"
type "SpellData"
data "SpellType" "Target"
using "Zone_EldritchLance"
data "Level" "4"
data "SpellSuccess" "IF(not HasPassive('ChainedCompanionship',context.Target) and (not HasPassive('EldritchOverflow', context.Source) and not HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(4d12, Force,Magical);IF(not HasPassive('ChainedCompanionship',context.Target) and (HasPassive('EldritchOverflow', context.Source) or HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(4d12,Force,Magical);IF(HasPassive('EldritchEnervation',context.Source) and Character(context.Target) and not HasPassive('ChainedCompanionship',context.Target)):RegainHitPoints(SELF,CharismaModifier);IF(HasPassive('RepellingBlast',context.Source)):Force(9)"
data "SpellProperties" "IF(HasPassive('BaneofthePact',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BANE,100,3);IF(HasPassive('BindingTransposition',context.Source) and HasDamageEffectFlag(DamageFlags.Hit) and Character() and TargetSizeEqualOrSmaller(Size.Large)):SwapPlaces();IF(HasPassive('HellboundVision',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BLINDED,100,1);IF(HasPassive('MasterofChaos',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):TriggerRandomCast(17,,WildMagicNegative);IF(HasPassive('ProjectedInertia',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(ELDRITCH_STRIKE,100,1);AI_ONLY:ApplyStatus(SELF,AI_HELPER_BUFF,100,0;IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))):ApplyStatus(ACCURSED_SPECTER_FEEBLE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and Tagged('WEIGHT_MEDIUM')):ApplyStatus(ACCURSED_SPECTER_MUNDANE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_LARGE') or Tagged('WEIGHT_HUGE') or Tagged('WEIGHT_GARGANTUAN'))):ApplyStatus(ACCURSED_SPECTER_PRIMORDIAL,100,-1);IF(Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source)):RegainHitPoints(4d12)"
data "TooltipDamageList" "DealDamage(4d12,Force)"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:4"
data "RootSpellID" "Zone_EldritchLance"
data "PowerLevel" "4"
data "Level" "4"

new entry "Zone_EldritchLance_5"
type "SpellData"
data "SpellType" "Target"
using "Zone_EldritchLance"
data "Level" "5"
data "SpellSuccess" "IF(not HasPassive('ChainedCompanionship',context.Target) and (not HasPassive('EldritchOverflow', context.Source) and not HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(5d12, Force,Magical);IF(not HasPassive('ChainedCompanionship',context.Target) and (HasPassive('EldritchOverflow', context.Source) or HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(5d12,Force,Magical);IF(HasPassive('EldritchEnervation',context.Source) and Character(context.Target) and not HasPassive('ChainedCompanionship',context.Target)):RegainHitPoints(SELF,CharismaModifier);IF(HasPassive('RepellingBlast',context.Source)):Force(9)"
data "SpellProperties" "IF(HasPassive('BaneofthePact',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BANE,100,3);IF(HasPassive('BindingTransposition',context.Source) and HasDamageEffectFlag(DamageFlags.Hit) and Character() and TargetSizeEqualOrSmaller(Size.Large)):SwapPlaces();IF(HasPassive('HellboundVision',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BLINDED,100,1);IF(HasPassive('MasterofChaos',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):TriggerRandomCast(17,,WildMagicNegative);IF(HasPassive('ProjectedInertia',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(ELDRITCH_STRIKE,100,1);AI_ONLY:ApplyStatus(SELF,AI_HELPER_BUFF,100,0;IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))):ApplyStatus(ACCURSED_SPECTER_FEEBLE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and Tagged('WEIGHT_MEDIUM')):ApplyStatus(ACCURSED_SPECTER_MUNDANE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_LARGE') or Tagged('WEIGHT_HUGE') or Tagged('WEIGHT_GARGANTUAN'))):ApplyStatus(ACCURSED_SPECTER_PRIMORDIAL,100,-1);IF(Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source)):RegainHitPoints(5d12)"
data "TooltipDamageList" "DealDamage(5d12,Force)"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:5"
data "RootSpellID" "Zone_EldritchLance"
data "PowerLevel" "5"
data "Level" "5"

new entry "Zone_EldritchLance_6"
type "SpellData"
data "SpellType" "Target"
using "Zone_EldritchLance"
data "Level" "6"
data "SpellSuccess" "IF(not HasPassive('ChainedCompanionship',context.Target) and (not HasPassive('EldritchOverflow', context.Source) and not HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(6d12, Force,Magical);IF(not HasPassive('ChainedCompanionship',context.Target) and (HasPassive('EldritchOverflow', context.Source) or HasPassive('EldritchSurge', context.Source)) and not Dead() and not (Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source) and HasPassive('DawnbreakoftheSunsetter', context.Source)))):DealDamage(6d12,Force,Magical);IF(HasPassive('EldritchEnervation',context.Source) and Character(context.Target) and not HasPassive('ChainedCompanionship',context.Target)):RegainHitPoints(SELF,CharismaModifier);IF(HasPassive('RepellingBlast',context.Source)):Force(9)"
data "SpellProperties" "IF(HasPassive('BaneofthePact',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BANE,100,3);IF(HasPassive('BindingTransposition',context.Source) and HasDamageEffectFlag(DamageFlags.Hit) and Character() and TargetSizeEqualOrSmaller(Size.Large)):SwapPlaces();IF(HasPassive('HellboundVision',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(BLINDED,100,1);IF(HasPassive('MasterofChaos',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):TriggerRandomCast(17,,WildMagicNegative);IF(HasPassive('ProjectedInertia',context.Source) and HasDamageEffectFlag(DamageFlags.Hit)):ApplyStatus(ELDRITCH_STRIKE,100,1);AI_ONLY:ApplyStatus(SELF,AI_HELPER_BUFF,100,0;IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_SMALL') or Tagged('WEIGHT_TINY'))):ApplyStatus(ACCURSED_SPECTER_FEEBLE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and Tagged('WEIGHT_MEDIUM')):ApplyStatus(ACCURSED_SPECTER_MUNDANE,100,-1);IF((HasStatus('PENUMBRA_DARK', context.Source) or HasStatus('PENUMBRA_DARK_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source) and Combat(context.Source) and Dead() and not Tagged('BLOCK_RESURRECTION') and not HasStatus('CORPSE_USED') and not Player() and (Tagged('WEIGHT_LARGE') or Tagged('WEIGHT_HUGE') or Tagged('WEIGHT_GARGANTUAN'))):ApplyStatus(ACCURSED_SPECTER_PRIMORDIAL,100,-1);IF(Ally() and (HasStatus('PENUMBRA_LIGHT', context.Source) or HasStatus('PENUMBRA_LIGHT_TECHNICAL', context.Source)) and HasPassive('DawnbreakoftheSunsetter', context.Source)):RegainHitPoints(6d12)"
data "TooltipDamageList" "DealDamage(6d12,Force)"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:6"
data "RootSpellID" "Zone_EldritchLance"
data "PowerLevel" "6"
data "Level" "6"
