new entry "NON_LETHAL"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "he263897bga5e6g4a0fgbd18g6b6e03f48d1e;2"
data "Description" "hdf1c7b48g4eb2g4499gac75g6c196f0db79d;2"
data "Icon" "Action_KnockOut"
data "StackId" "NON_LETHAL"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;IgnoreResting;ApplyToDead"

new entry "BANISHED"
type "StatusData"
data "StatusType" "INCAPACITATED"
data "DisplayName" "h356abfd1g783eg3926g8f93g93731f596a27;1"
data "Description" "hc809783ag7ad4gd6e1ge509g97c25f69ecbe;1"
data "FormatColor" "LightBlue"
data "Icon" "Action_WildMagic_Swap"
data "StatusGroups" "SG_Sleeping_Magical"
data "StackId" "BANISHED"
data "StackPriority" "99"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisableImmunityOverhead"
data "Boosts" "Attribute(Grounded);DetectDisturbancesBlock(true);Detach();Invulnerable();DialogueBlock();CanShootThrough(true);SightRangeOverride(0);CanWalkThrough(true);Tag(AI_IGNORED_TARGET);ActionResourceBlock(Movement);ActionResourceBlock(ActionPoint);ActionResourceBlock(BonusActionPoint);ActionResourceBlock(ReactionActionPoint);BlockSpellCast();LeaveTriggers()"
data "StatusEffect" "ba55a11f-a411-4856-ad0f-731522c9f7f1"
data "RemoveEvents" "OnCombatEnded"

new entry "BANISHED_FLEE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h356abfd1g783eg3926g8f93g93731f566968;1"
data "Description" "hc809783ag7ad4gd6e1ge509g97c25f65d6f8;1"
data "FormatColor" "Red"
data "Icon" "PassiveFeature_Athlete_StandUp"
data "StackId" "BANISHED_FLEE"
data "StackType" "Ignore"
data "TickType" "EndTurn"
data "RemoveEvents" "OnCombatEnded"
data "OnRemoveFunctors" "IF(Combat()):Kill()"

new entry "BANISHED_FINALSTAND"
type "StatusData"
data "StatusType" "INCAPACITATED"
data "DisplayName" "h356abfd1g783eg3926g8f93g93731f532352;1"
data "Description" "hc809783ag7ad4gd6e1ge509g97c25f666687;1"
data "FormatColor" "LightBlue"
data "Icon" "Action_WildMagic_Enchant"
data "StatusGroups" "SG_Sleeping_Magical"
data "StackId" "BANISHED"
data "StackPriority" "0"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisableImmunityOverhead"
data "Boosts" "Attribute(Grounded);DetectDisturbancesBlock(true);Invulnerable();DialogueBlock();CanShootThrough(true);SightRangeOverride(0);CanWalkThrough(true);Tag(AI_IGNORED_TARGET);ActionResourceBlock(Movement);ActionResourceBlock(ActionPoint);ActionResourceBlock(BonusActionPoint);ActionResourceBlock(ReactionActionPoint);BlockSpellCast();LeaveTriggers()"
data "StatusEffect" "ba55a11f-a411-4856-ad0f-731522c9f7f1"
data "RemoveConditions" "not HasAllyWithinRange('SG_Sleeping_Magical',36) or not Combat(context.Source)"
data "RemoveEvents" "OnTurn;OnCombatEnded"
data "OnRemoveFunctors" "IF(Combat()):ApplyStatus(FINAL_STAND_VFX,100,-1)"

new entry "FINAL_STAND_VFX"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h9426bff1g05d0gd470g372dgbbf7cfc35654;1"
data "Description" "h4e31b13dgba1dg3215g0412g31583b897855;1"
data "FormatColor" "Gold"
data "Icon" "Action_WildMagic_Enchant"
data "StackId" "BANISHED"
data "StackPriority" "10"
data "StatusPropertyFlags" "DisableCombatlog;DisableImmunityOverhead"
data "ApplyEffect" "d4f639de-9b12-45c2-9681-da493827ab40"
data "RemoveEvents" "OnCombatEnded"
data "OnApplyFunctors" "IF(Combat()):CreateExplosion(SELF,Projectile_FinalStand);IF(Combat()):CreateExplosion(SELF,Projectile_FinalStandDowned)"

new entry "DOWNED_FINALSTAND"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h356abfd1g783eg3926g8f93g93731f6sd852;1"
data "Description" "hc809783ag7ad4gd6e1ge509g97c25f6s9d58;1"
data "FormatColor" "Red"
data "Icon" "PassiveFeature_Resilient"
data "StackId" "DOWNED_FINALSTAND"
data "ApplyEffect" "d4f639de-9b12-45c2-9681-da493827ab40"
data "OnApplyFunctors" "Stabilize()"
data "HitAnimationType" "MagicalNonDamage"
data "RemoveConditions" "not HasAllyWithinRange('SG_Sleeping_Magical',36) or not Combat(context.Source)"
data "RemoveEvents" "OnTurn;OnCombatEnded"
data "Boosts" "BlockRegainHP(Living;Undead);Tag(AI_IGNORED_TARGET)"

new entry "Projectile_FinalStand"
type "SpellData"
data "SpellType" "Projectile"
data "TargetFloor" "-1"
data "TargetRadius" "36"
data "AreaRadius" "36"
data "ExplodeRadius" "36"
data "SpellProperties" "RemoveStatus(BANISHED_FINALSTAND)"
data "TargetConditions" "HasStatus('BANISHED_FINALSTAND')"
data "AoEConditions" "HasStatus('BANISHED_FINALSTAND')"
data "ProjectileCount" "1"
data "Trajectories" "b64b516c-1afd-4f8d-b624-4c9caf06f1c2"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "CycleConditions" "HasStatus('BANISHED_FINALSTAND')"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IgnoreVisionBlock;Stealth;Invisible"
data "SpellAnimation" "414bbf02-2918-4f01-83fb-1ddc7a588d88,,;,,;fa83395a-23db-42a2-972a-c4ecc66fead6,,;01e58b73-2a63-4986-a1d2-1a0838237c90,,;0c5dcc83-fa78-41da-b6a5-440b5ea30936,,;,,;bea988a0-2ec5-40d8-a67e-ffbd7454bc53,,;,,;,,"
data "HitAnimationType" "None"
data "MemoryCost" "1"

new entry "Projectile_FinalStandDowned"
type "SpellData"
data "SpellType" "Projectile"
data "TargetFloor" "-1"
data "TargetRadius" "36"
data "AreaRadius" "36"
data "ExplodeRadius" "36"
data "SpellProperties" "ApplyStatus(DOWNED_FINALSTAND,100,-1)"
data "TargetConditions" "HasStatus('DOWNED')"
data "AoEConditions" "HasStatus('DOWNED')"
data "ProjectileCount" "1"
data "Trajectories" "b64b516c-1afd-4f8d-b624-4c9caf06f1c2"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "CycleConditions" "HasStatus('DOWNED')"
data "SpellAnimation" "414bbf02-2918-4f01-83fb-1ddc7a588d88,,;,,;fa83395a-23db-42a2-972a-c4ecc66fead6,,;01e58b73-2a63-4986-a1d2-1a0838237c90,,;0c5dcc83-fa78-41da-b6a5-440b5ea30936,,;,,;bea988a0-2ec5-40d8-a67e-ffbd7454bc53,,;,,;,,"
data "HitAnimationType" "None"
data "MemoryCost" "1"

new entry "EXTRA_ATTACK"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h322e38eeg690eg4d35gb9a7g511b9e42428e;1"
data "Description" "h5131f06bgff9ag4245g954dgcfa50b927031;2"
data "Icon" "PassiveFeature_ExtraAttack"
data "StackId" "EXTRA_ATTACK"
data "StackPriority" "10"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpellVariant(ExtraAttackCheck(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "RemoveConditions" "ExtraAttackSpellCheck() and HasUseCosts('ActionPoint',false,context.Target) and not IsOffHandAttack() and not IsReactionAttack()"
data "RemoveEvents" "OnTurn;OnSpellCast"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator;DisableOverhead"

new entry "EXTRA_ATTACK_2"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h322e38eeg690eg4d35gb9a7g511b9e42428e;1"
data "Description" "h5131f06bgff9ag4245g954dgcfa50b927031;2"
data "Icon" "PassiveFeature_ExtraAttack"
data "StackId" "EXTRA_ATTACK"
data "StackPriority" "10"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpellVariant(ExtraAttackCheck(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "RemoveConditions" "ExtraAttackSpellCheck() and HasUseCosts('ActionPoint',false,context.Target) and not IsOffHandAttack() and not IsReactionAttack()"
data "RemoveEvents" "OnTurn;OnSpellCast"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):ApplyStatus(EXTRA_ATTACK, 100, 1)"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator;DisableOverhead"

new entry "FREEHANDLING_ACTION"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha0a9d4d4gdd96g431dgb386g6a12d4522d45;3"
data "Description" "hcc220960g681dg4db6g8cbag2c05s6d669d7;2"
data "Icon" "PassiveFeature_FastHands"
data "StackId" "FREEHANDLING_ACTION"
data "TickType" "EndTurn"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;FreezeDuration"
data "StackType" "Additive"
data "RemoveConditions" "IsWeaponOfProficiencyGroup('Greatclubs|Glaives|Greataxes|Greatswords|Halberds|Mauls|Pikes', GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand, context.Source)) or IsWeaponOfProficiencyGroup('Battleaxes|Clubs|Daggers|Flails|Handaxes|Javelins|LightHammers|Longswords|Maces|Morningstars|Quarterstaffs|Rapiers|Scimitars|Shortswords|Sickles|Spears|Tridents|Warhammers|Warpicks', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand, context.Source)) or HasShieldEquipped(context.Source) or IsWeaponOfProficiencyGroup('Shortbows|Longbows|LightCrossbows|HeavyCrossbows', GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand, context.Source)) or IsWeaponOfProficiencyGroup('HandCrossbows', GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand, context.Source))"
data "RemoveEvents" "OnEquip"

new entry "FREEHANDLING_ACTION_SURGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha0a9d4d4gdd96g431dgb386g6a12d4522d54;3"
data "Description" "hcc220960g681dg4db6g8cbag2c05s6dff6s8;2"
data "Icon" "PassiveFeature_FastHands"
data "StackId" "FREEHANDLING_ACTION_SURGE"
data "Boosts" "ActionResource(ActionPoint, 1, 0)"
data "TickType" "EndTurn"
data "StackType" "Overwrite"
data "StatusEffect" "5e6576d3-29c9-4c00-859b-1abcea010922"
data "RemoveConditions" "IsWeaponOfProficiencyGroup('Greatclubs|Glaives|Greataxes|Greatswords|Halberds|Mauls|Pikes', GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand, context.Source)) or IsWeaponOfProficiencyGroup('Battleaxes|Clubs|Daggers|Flails|Handaxes|Javelins|LightHammers|Longswords|Maces|Morningstars|Quarterstaffs|Rapiers|Scimitars|Shortswords|Sickles|Spears|Tridents|Warhammers|Warpicks', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand, context.Source)) or HasShieldEquipped(context.Source) or IsWeaponOfProficiencyGroup('Shortbows|Longbows|LightCrossbows|HeavyCrossbows', GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand, context.Source)) or IsWeaponOfProficiencyGroup('HandCrossbows', GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand, context.Source))"
data "RemoveEvents" "OnEquip"
data "ApplyEffect" "19cc4e0b-ab1b-49d8-be3e-687203b7a6ef"
data "OnRemoveFunctors" "IF(not RemoveCause(StatusRemoveCause.TimeOut)):UseActionResource(ActionPoint, 1, 0, true)"

new entry "FREEHANDLING_REMOVAL"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "TickType" "EndTurn"
data "RemoveEvents" "OnCombatEnded"
data "OnRemoveFunctors" "RemoveStatus(FREEHANDLING_ACTION);RemoveStatus(FREEHANDLING_ACTION_SURGE)"

new entry "CONCEALED_CARRY"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "TickType" "EndTurn"
data "Passives" "Concealed_Carry"

new entry "CONCEALED_CARRY_EFFECT"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpellVariant(SpellId('Projectile_MainHandAttack'),ModifyUseCosts(Replace,ReactionActionPoint,1,0,ActionPoint));UnlockSpellVariant(SpellId('Projectile_OffhandAttack'),ModifyUseCosts(Replace,ReactionActionPoint,1,0,ActionPoint));"
data "OnRemoveFunctors" "ApplyStatus(SMART_COOLDOWN_FIX,100,1)"

new entry "DAMAGE_REDUCTION"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h0bdd92afge500g4484g820dgbb225d655458;2"
data "Description" "h65d96dbcg7697g4779g87c5g3266d9858858;3"
data "Icon" "PassiveFeature_HeavilyArmored"
