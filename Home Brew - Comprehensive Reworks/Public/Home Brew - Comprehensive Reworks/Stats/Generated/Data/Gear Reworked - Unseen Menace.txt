new entry "MAG_Invisible_Pike"
type "Weapon"
using "WPN_Pike_1"
data "RootTemplate" "cd6c6adc-8792-4378-8c63-8169cfad6c55"
data "ValueUUID" "9b6a4ab2-323b-4030-89ab-030252bb6214"
data "DefaultBoosts" "Tag(ORI_GALE_CONSUMABLEARTEFACT);WeaponEnchantment(1)"
data "BoostsOnEquipMainHand" "UnlockSpell(Target_PiercingThrust);UnlockSpell(Rush_SpringAttack);UnlockSpell(Target_PolearmMaster_BonusAttack)"
data "PassivesOnEquip" "MAG_InvisiblePike_Passive;MAG_InvisiblePike_Passive2"
data "StatusOnEquip" "MAG_INVISIBLE_WEAPON_BUFF_TECHNICAL"
data "Unique" "1"
data "Rarity" "Rare"
data "UseCosts" "ReactionActionPoint:1;Attunement:2"
data "StatusOnEquip" "ATTUNEMENT2"

new entry "MAG_InvisiblePike_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "hb0e873c6g4df1g4fd4g98d2g57169d3bc4a1;1"
data "Description" "he8dba608g10efg40ebga7aag1fa2e6a7af1e;6"
data "DescriptionParams" "3"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsMiss() or IsCriticalMiss()"
data "StatsFunctors" "ApplyStatus(SELF, MAG_INVISIBLE_WEAPON_VISIBLE_OWNER, 100, 3)"

new entry "MAG_InvisiblePike_Passive2"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "hb0e873c6g4df1g4fd4g98d2g57169d3bc4a1;1"
data "Description" "he8dba608g10efg40ebga7aag1fa2e6a7af1e;6"
data "DescriptionParams" "3"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnTurn"
data "Conditions" "not HasStatus('MAG_INVISIBLE_WEAPON_VISIBLE_OWNER')"
data "StatsFunctors" "ApplyStatus(SELF,MAG_INVISIBLE_WEAPON_OWNER,100,-1)"

new entry "MAG_INVISIBLE_WEAPON_OWNER"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_INVISIBLE_WEAPON_BUFF"
data "StackId" "MAG_INVISIBLE_WEAPON_OWNER"
data "Boosts" "IF(IsMeleeWeaponAttack()):Advantage(AttackRoll);IF(IsMeleeWeaponAttack()):ReduceCriticalAttackThreshold(1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;IgnoreResting;ApplyToDead"
data "StatusEffect" ""
data "RemoveConditions" "HasStatus('MAG_INVISIBLE_WEAPON_VISIBLE_OWNER')"
data "RemoveEvents" "OnStatusApplied"
