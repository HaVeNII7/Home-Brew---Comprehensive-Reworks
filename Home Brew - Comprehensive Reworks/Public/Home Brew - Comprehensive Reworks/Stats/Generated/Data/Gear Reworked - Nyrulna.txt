new entry "MAG_TheThorns_Trident"
type "Weapon"
using "WPN_Trident_2"
data "RootTemplate" "daf0be7f-87d9-448a-b94e-471ffec40ac5"
data "ValueUUID" "d24c441f-7ebe-4229-8522-cf34c257ff20"
data "Rarity" "Legendary"
data "DefaultBoosts" "Tag(ORI_GALE_CONSUMABLEARTEFACT);WeaponEnchantment(3)"
data "BoostsOnEquipMainHand" "UnlockSpell(Target_DisarmingStrike);UnlockSpell(Target_PiercingThrust);UnlockSpell(Rush_SpringAttack);UnlockSpell(Rush_MAG_ZephyrFlash)"
data "PassivesOnEquip" "FreeHandling;MAG_Mobility_ExplosionOnJump_Passive_Nyrulna;MAG_TheThorns_VeilOfTheWind_Passive"
data "Unique" "1"
data "UseCosts" "ReactionActionPoint:1;Attunement:4"
data "StatusOnEquip" "ATTUNEMENT4"

new entry "MAG_Mobility_ExplosionOnJump_Passive_Nyrulna"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "h95d3af91g5484g449cgb404g68e889ae5cd8;2"
data "Description" "hb3ef55a8g6e7dg4c49gbfa4gb062aee378f0;3"
data "DescriptionParams" "DealDamage(1d8,Thunder);Distance(3)"
data "Icon" "GenericIcon_DamageType_Thunder"
data "Properties" "IsToggled;ToggledDefaultOn;Temporary"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "AttackedWithPassiveSourceWeapon() and Character() and not Self()"
data "StatsFunctors" "PROJECTILE:CreateExplosion(Projectile_MAG_Mobility_ExplosionOnJump_Explosion_Nyrulna);RemoveStatus(SG_Invisible)"

new entry "Projectile_MAG_Mobility_ExplosionOnJump_Explosion_Nyrulna"
type "SpellData"
data "SpellType" "Projectile"
data "SpellProperties" "DealDamage(1d8,Thunder,Magical)"
data "AreaRadius" "3"
data "ExplodeRadius" "3"
data "SpellRoll" ""
data "SpellSuccess" ""
data "SpellFail" ""
data "TargetConditions" "not Self() and not Dead()"
data "Trajectories" "0be6e4d7-55fe-4ee0-8acc-94fc3b474817,78f998fb-2bb4-c8bd-c170-fcd899abc905,a62c27e3-86c0-db69-8f04-0ea3074cae7a"
data "Icon" "PassiveFeature_Generic_Explosion"
data "SpellFlags" "IsTrap;IsHarmful"
data "TargetEffect" "b460b24b-23e4-4f8f-a533-4d82512bedeb"

new entry "Rush_MAG_ZephyrFlash"
type "SpellData"
data "SpellType" "Rush"
using "Rush_SpringAttack"
data "SpellProperties" "GROUND:SurfaceClearLayer(Cloud)"
data "TargetRadius" "18"
data "MovementSpeed" "80000"
data "SpellSuccess" "DealDamage(6d6, Thunder,Magical);ApplyStatus(BLEEDING, 100, 3);Force(3)"
data "SpellFail" "DealDamage(6d6/2, Thunder,Magical)"
data "Icon" "Action_Mag_ZephyrFlash"
data "DisplayName" "h4d34b310g82fcg4ba8gacb0gb1ac4c7164e3;3"
data "Description" "h92b52b1eg6d01g4c80gb906g6431275cf252;7"
data "TooltipDamageList" "DealDamage(6d6, Thunder)"
data "TooltipAttackSave" "MeleeWeaponAttack"
data "TooltipStatusApply" "ApplyStatus(BLEEDING, 100, 3)"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "SpellAnimation" "8b8bb757-21ce-4e02-a2f3-97d55cf2f90b,,;7bfeb9dd-1348-45c7-bff9-ed42f8cd43a1,,;b780092c-cc12-43d5-b60e-acbac3fdceed,,;abbeb7de-2128-4b16-95e5-7b9d7b1af2f9,,;7bb52cd4-0b1c-4926-9165-fa92b75876a3,,;,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "OnlyHit1Target" "0"
data "DamageType" "Thunder"
data "Sheathing" "Melee"
data "SpellFlags" "AddFallDamageOnLand;IsHarmful;IsDefaultWeaponAction"
data "RequirementConditions" "not HasStatus('SG_Polymorph_BeastShape')"

new entry "Zone_MAG_ZephyrBreak"
type "SpellData"
data "SpellType" "Zone"
using "Zone_MAG_WindRider_GustOfWind"
data "SpellSuccess" "Force(9); IF(not Item()):ApplyStatus(OFF_BALANCED,100,1);DealDamage(6d6, Thunder,Magical)"
data "SpellFail" "DealDamage(3d6, Thunder,Magical)"
data "DisplayName" "h4192ccffg11fdg4f31gadecga202f28e17df;2"
data "Description" "h626f4a10g5213g4c9dgb10fg24bf034315cf;2"
data "DescriptionParams" "Distance(9)"
data "TooltipDamageList" "DealDamage(6d6, Thunder)"
data "TooltipStatusApply" "ApplyStatus(OFF_BALANCED,100, 1)"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "TooltipUpcastDescription" ""
data "SpellAnimation" "2ba949b7-0329-4190-992c-11b0d29183c5,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,,;de006e3f-70fb-4eb7-a98d-d845d15b20e8,,;50696db7-d931-4734-915d-32d038ba99a5,,;a0503ad0-c1b1-449c-b431-4ac6c39c58d7,,;c36ed247-2272-492b-99c2-2ca10b014670,,;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "SpellFlags" "AddFallDamageOnLand;IsDefaultWeaponAction"
data "Sheathing" "Melee"

new entry "MAG_TheThorns_ExplosiveThrowing_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "h7a834139g949fg46b1g9faagc05202e02eaf;5"
data "Description" "hafbb08aag7be0g4ed3ga705gfd274b7a062c;4"
data "DescriptionParams" "DealDamage(1d12, Thunder);Distance(3)"

new entry "MAG_TheThorns_VeilOfTheWind_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "h366d48feg6f85g4d7eg96feg427eab14e2d5;2"
data "Description" "h3c3b8232g38d2g430ag8e90gb90bbd158b36;3"
data "DescriptionParams" "Distance(3)"
data "Boosts" "ActionResource(Movement, 3,0);JumpMaxDistanceBonus(3);IgnoreFallDamage()"

new entry "MAG_THUNDER_GREATER_THUNDER_WEAPON"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_THUNDER_THUNDER_WEAPON"
data "DescriptionParams" "DealDamage(1d8, Thunder)"
data "StackId" "MAG_THUNDER_GREATER_THUNDER_WEAPON"
data "Boosts" "WeaponDamage(1d8,Thunder)"

new entry "MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_ZOC_FORCE_CONDUIT_EXPLOSION_TECHNICAL"
data "StackId" "MAG_THE_THORNS_AOE_DAMAGE_TECHNICAL"
data "AuraStatuses" "IF(not HasStatus('SITOUT_ONCOMBATSTART_APPLIER_TECHNICAL',context.Source) and not HasStatus('SITOUT_ONCOMBATSTART_DOONCE_TECHNICAL',context.Source) and not HasStatus('BANISHED',context.Source) and not HasStatus('BANISHED_FINALSTAND',context.Source) and Character() and not Dead()):ApplyStatus(MAG_THE_THORNS_EXPLOSION_DAMAGE_TECHNICAL)"
data "AuraRadius" "3"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;InitiateCombat;BringIntoCombat"
data "OnApplyFunctors" "ApplyStatus(MAG_THE_THORNS_EXPLOSION_DAMAGE_TECHNICAL)"

new entry "MAG_THE_THORNS_EXPLOSION_DAMAGE_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
using "MAG_ZOC_FORCE_CONDUIT_EXPLOSION_DAMAGE_TECHNICAL"
data "StackId" "MAG_THE_THORNS_EXPLOSION_DAMAGE_TECHNICAL"
data "OnApplyFunctors" "DealDamage(1d12, Thunder,Magical)"

new entry "CONSUMED_NYRULNA"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;ApplyToDead;IgnoreResting"
data "TickType" "EndTurn"
data "Boosts" "ActionResource(Attunement,0,0);IF(Tagged('FRONTIER_KNIGHT', context.Source)):UnlockSpell(Rush_MAG_ZephyrFlash)"
