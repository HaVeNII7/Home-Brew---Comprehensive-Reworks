new entry "MAG_TheDueller_Rapier"
type "Weapon"
using "WPN_Rapier_2"
data "RootTemplate" "d49bf05e-4f94-4860-bd8c-ae63dae811be"
data "ValueUUID" "d24c441f-7ebe-4229-8522-cf34c257ff20"
data "Rarity" "Legendary"
data "DefaultBoosts" "Tag(ORI_GALE_CONSUMABLEARTEFACT);WeaponEnchantment(3)"
data "BoostsOnEquipMainHand" "UnlockSpell(Target_OpeningAttack);UnlockSpell(Target_PiercingThrust);UnlockSpell(Shout_Steady);UnlockSpell(Target_MAG_TheDueller_BonusAttack)"
data "PassivesOnEquip" "FreeHandling;MAG_TheDueller_ImprovedDuelist_Passive;MAG_TheDueller_WitheringCut_Passive"
data "Unique" "1"
data "UseCosts" "ReactionActionPoint:1;Attunement:4"
data "StatusOnEquip" "ATTUNEMENT4"

new entry "Target_MAG_Legendary_CompelledDuel"
type "SpellData"
data "SpellType" "Target"
using "Target_CompelledDuel"
data "SpellRoll" "not SavingThrow(Ability.Wisdom, SourceSpellDC())"
data "SpellSuccess" "ApplyStatus(MAG_LEGENDARY_COMPELLED_DUEL, 100, 3)"
data "DisplayName" "he437335bgcd18g467eg8248g73b61189295c;2"
data "Description" "hf54c5146g34c6g4b5ag9eaagcc06a9a77a2c;3"
data "TooltipStatusApply" "ApplyStatus(MAG_LEGENDARY_COMPELLED_DUEL, 100, 3)"
data "TooltipUpcastDescription" ""
data "UseCosts" "BonusActionPoint:1"
data "SpellStyleGroup" "Intent"
data "SpellFlags" "HasVerbalComponent;IsHarmful"
data "Sheathing" "Melee"

new entry "Target_MAG_TheDueller_BonusAttack"
type "SpellData"
data "SpellType" "Target"
using "Target_MAG_PHB_ScimitarOfSpeed_BonusAttack"
data "RequirementConditions" "IsOffHandSlotEmpty()"
data "DisplayName" "hcdb52661g3063g4993g997fg6aacd74abe99;2"
data "Description" "h3545c8ccgdf05g4d97g994ag1bfeea577b20;2"
data "SpellFlags" "IsMelee;IsHarmful;IsDefaultWeaponAction"
data "RequirementConditions" "not HasStatus('SG_Polymorph_BeastShape')"

new entry "MAG_TheDueller_ImprovedDuelist_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "h711045a1g2e51g4ca1gbed0g1f418fa12e6b;1"
data "Description" "hd5a3914bgf8c8g4f2bg89c0gcca964daf305;2"
data "DescriptionParams" "1"
data "BoostContext" "OnCreate;OnEquip"
data "BoostConditions" "IsOffHandSlotEmpty()"
data "Boosts" "ReduceCriticalAttackThreshold(2);ActionResource(ReactionActionPoint,1,0)"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "AttackedWithPassiveSourceWeapon() and not HasStatus('BLEEDING') and HasStatus('MAG_LEGENDARY_COMPELLED_DUEL')"
data "StatsFunctors" "ApplyStatus(BLEEDING, 100, 3)"

new entry "MAG_TheDueller_WitheringCut_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "h74969443gf85bg45b4ga2b3g40a4fe7911ba;1"
data "Description" "h1c73d482ga6f3g4c33g90edg4b33345cb51d;1"
data "Boosts" "UnlockInterrupt(Interrupt_TheDueller_WitheringCut)"

new entry "Interrupt_TheDueller_WitheringCut"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DisplayName" "hc61596f9gc801g4933gaf73g13269717f10e;1"
data "Description" "h5ea742a7g0d9cg447cga012g95679912ce86;1"
data "DescriptionParams" ""
data "ExtraDescription" ""
data "ExtraDescriptionParams" ""
data "Icon" "GenericIcon_DamageType_Necrotic"
data "Conditions" "IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack()"
data "Properties" "DealDamage(ProficiencyBonus, Necrotic);ApplyStatus(MAG_NECROTIC_NECROTIC_BLAST_TECHNICAL,100, 0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"

new entry "CONSUMED_DUELLISTSPREROGATIVE"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;ApplyToDead;IgnoreResting"
data "TickType" "EndTurn"
data "Boosts" "ActionResource(Attunement,0,0);IF(Tagged('FRONTIER_KNIGHT', context.Source)):UnlockSpell(Target_MAG_TheDueller_BonusAttack)"
