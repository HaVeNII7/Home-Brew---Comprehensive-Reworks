<!--SORCERER-->

new entry "Interrupt_Creationary"
type "InterruptData"
data "DisplayName" "h579c4854g5d33g44a4ga2d7ga8226s3d5584;1"
data "Description" "h291fdebdgb520g4fa0g90c0gca26s9d5f885;6"
data "DescriptionParams" "Distance(18)"
data "Icon" "PassiveFeature_MagicInitiateWizard"
data "InterruptContext" "OnSpellCast"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and IsSpell() and not IsCantrip() and not Uninterruptible() and (HasUseCosts('SpellSlot') or HasUseCosts('WarlockSpellSlot')) and not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Source) and not AnyEntityIsItem()"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,SORCEROUS_OVERFLOW,100,1);IF(HasPassive('NaturalVortex', context.Observer) and not HasPassive('NaturalVortex_Item', context.Observer)):ApplyStatus(OBSERVER_OBSERVER,SORCEROUS_OVERFLOW,100,1);IF(not HasPassive('NaturalVortex', context.Observer) and HasPassive('NaturalVortex_Item', context.Observer)):ApplyStatus(OBSERVER_OBSERVER,SORCEROUS_OVERFLOW,100,1);ApplyStatus(OBSERVER_OBSERVER,SORCEROUS_OVERFLOW_DURATION_TECHNICAL,100,0)"
data "InterruptDefaultValue" "Enabled"
data "Stack" "OnAnyCast"

<!--SHADE WALKER-->

new entry "Interrupt_SplinterShadows"
type "InterruptData"
data "DisplayName" "h4549ca2ag0eb4g48e4g8110g696435ce1092;1"
data "Description" "h32a5d26ag98eag4d6aga8d8g56933f2a97e4;2"
data "Icon" "Action_SplinterShadows"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "Self(context.Target, context.Observer) and IsMeleeAttack() and not IsCritical() and not IsKillingBlow() and IsHit() and (Character() and not Ally()) and not AnyEntityIsItem() and not IsDamageTypeRadiant();"
data "Properties" "ApplyStatus(OBSERVER_TARGET,SPLINTERSHADOWS,100,1);UseSpell(OBSERVER_TARGET,Shout_SplinterShadow_Hound,true,true,true)"
data "Cost" ""
data "InterruptDefaultValue" "Enabled"
data "Stack" "OnDamaged"

new entry "Interrupt_SplinterShadows11"
type "InterruptData"
data "DisplayName" "h4549ca2ag0eb4g48e4g8110g696435ce1092;1"
data "Description" "h32a5d26ag98eag4d6aga8d8g56933f2a97e4;2"
data "Icon" "Action_SplinterShadows"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "Self(context.Target, context.Observer) and IsMeleeAttack() and not IsCritical() and not IsKillingBlow() and IsHit() and (Character() and not Ally()) and not AnyEntityIsItem() and not IsDamageTypeRadiant();"
data "Properties" "ApplyStatus(OBSERVER_TARGET,SPLINTERSHADOWS11,100,1);UseSpell(OBSERVER_TARGET,Shout_SplinterShadow_Hound,true,true,true)"
data "Cost" ""
data "InterruptDefaultValue" "Enabled"
data "Stack" "OnDamaged"

<!--VOLCANIST-->

new entry "Interrupt_PyrrhicRetort"
type "InterruptData"
data "DisplayName" "h74aaf9a2g8faag4fb3gb244g4bb247023512;2"
data "Description" "hc277c521g31b6g4c21gb01ag7d599d5sd6f8;3"
data "Icon" "Skill_Druid_FlamingSphere_Move"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Ally(context.Target,context.Observer) and Enemy(context.Source,context.Observer) and not Self(context.Target,context.Observer) and CanSee(context.Source,context.Observer) and HasStatus('MAG_FIRE_HEAT',context.Observer) and not AnyEntityIsItem()"
data "Properties" "UseSpell(OBSERVER_SOURCE,Projectile_PyrrhicFlare,true,true,true)"
data "Cost" ""
data "InterruptDefaultValue" "Ask;Enabled"
data "Stack" "OnAllyDamaged"

new entry "Interrupt_Pyrebound"
type "InterruptData"
data "DisplayName" "hc580238eg0032g4f7fg9d2ag7f93d6f5df12;2"
data "Description" "h6fa01c82g439eg42c5g8c62g01696s8d5f84;1"
data "Icon" "Action_EndGame_RolanArtillery"
data "InterruptContext" "OnStatusApplied"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "StatusGroupDurationEqualOrMoreThan(context.Observer,'MAG_FIRE_HEAT',10)"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,METEORIC_BURST,100,1)"
data "Cost" ""
data "InterruptDefaultValue" "Enabled"
data "InterruptDefaultValue" "Ask;Enabled"
data "Stack" "OnStatusApplied"

<!--WILD MAGIC-->

new entry "Interrupt_TidesOfChaos"
type "InterruptData"
data "DisplayName" "h3d5cb14egfdceg4f20g8ae3g8058799bf222;1"
data "Description" "h8cefbec7g0aefg43c7ga0a7gb4cfd15f8385;2"
data "Icon" "Skill_Sorcerer_Passive_TidesOfChaos"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and ((Self(context.Source,context.Observer) and HasInterruptedAttack() and IsRerollInterruptInteresting(context.Source)) or (Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and IsRerollInterruptInteresting())) and not AnyEntityIsItem() and not InterruptHasAdvantage()"
data "Properties" "SetAdvantage();ApplyStatus(OBSERVER_OBSERVER,TIDES_OF_CHAOS,100,-1)"
data "Cost" "SorceryPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"

new entry "Interrupt_BendLuck_Bonus"
type "InterruptData"
data "DisplayName" "h1e0448a4g9072g4842g8df5gb3984fdbd6e0;2"
data "Description" "h1ec49b2cg8545g4bb4g8278g4593779c26d6;4"
data "DescriptionParams" "1d4"
data "Icon" "Skill_Sorcerer_Passive_BendLuck"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and ((not Self(context.Source,context.Observer) and HasInterruptedAttack() and Ally(context.Source, context.Observer) and IsFlatValueInterruptInteresting(4, context.Source)) or (not Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and Ally(context.Target, context.Observer) and IsFlatValueInterruptInteresting(4))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(1d4);IF(not Self(context.Target,context.Observer) and HasInterruptedAttack()):UseSpell(OBSERVER_SOURCE,Target_BendLuck_Interrupt_Positive,true,true,true);IF(not Self(context.Target,context.Observer) and HasInterruptedSavingThrow()):UseSpell(OBSERVER_TARGET,Target_BendLuck_Interrupt_Positive,true,true,true)"
data "Stack" "BendLuck"
data "InterruptDefaultValue" "Enabled"
data "Stack" "OnAbilityCheck"

new entry "Interrupt_BendLuck_Malus"
type "InterruptData"
using "Interrupt_BendLuck_Bonus"
data "DisplayName" "h3d5cb14egfdceg4f20g8ae3g8058799bf223;1"
data "Description" "hb6fef46eg8091g4b97g9dadg809cc44c645f;2"
data "Conditions" "IsAbleToReact(context.Observer) and ((not Self(context.Source,context.Observer) and HasInterruptedAttack() and Enemy(context.Source, context.Observer) and IsFlatValueInterruptInteresting(4, context.Source)) or (not Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and Enemy(context.Target, context.Observer) and IsFlatValueInterruptInteresting(4))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(-1d4);IF(not Self(context.Target,context.Observer) and HasInterruptedAttack()):UseSpell(OBSERVER_SOURCE,Target_BendLuck_Interrupt_Negative,true,true,true);IF(not Self(context.Target,context.Observer) and HasInterruptedSavingThrow()):UseSpell(OBSERVER_TARGET,Target_BendLuck_Interrupt_Negative,true,true,true)"
data "Stack" "OnEnemySave"

new entry "Interrupt_ControlledChaos"
type "InterruptData"
data "DisplayName" "h3d5cb14egfdceg4f20g8ae3g80587992a364;1"
data "Description" "h6d6d7ca1g688fg4f55gb88eg2d5ce53da4b7;2"
data "DescriptionParams" "Distance(9)"
data "Icon" "PassiveFeature_Portent"
data "InterruptContext" "OnSpellCast"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and not AnyEntityIsItem()"
data "Properties" "TriggerRandomCast(1,,WildMagicPositive)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "Stack" "OnEnemyCast"

<!--PASSIVES-->

new entry "Interrupt_EvasiveWarp"
type "InterruptData"
data "DisplayName" "7ece8b0a155648e49a0b00a7bc8644b500z11;1"
data "Description" "7ece8b0a155648e49a0b00a7bc8644b5000zk;2"
data "DescriptionParams" "Distance(18)"
data "Icon" "Action_BenignTransposition_Swap"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasInterruptedAttack() and Enemy(context.Source,context.Observer) and CanSee(context.Source,context.Observer) and not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Source) and not AnyEntityIsItem() or IsAbleToReact(context.Observer) and Ally(context.Target,context.Observer) and HasInterruptedAttack() and Enemy(context.Source,context.Observer) and not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and not AnyEntityIsItem()"
data "Properties" "UseSpell(SWAP,Shout_Blink,true,true,true)"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph_BeastShape') and not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusRemoved;OnStatusApplied"
data "Stack" "OnAttacked"
