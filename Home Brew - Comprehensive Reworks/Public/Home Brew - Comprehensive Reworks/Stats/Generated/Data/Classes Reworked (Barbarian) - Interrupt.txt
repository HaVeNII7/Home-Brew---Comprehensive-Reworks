<!--FROSTWEAVER-->

new entry "Interrupt_TundralStrike"
type "InterruptData"
data "Icon" "Action_Barbarian_Rage_Bifrost"
data "DisplayName" "h40aa7e41g978dg4da6as54df84sd55f45az5;2"
data "Description" "hc526s54df84ef6s84d68f4s2e4f6s6d8faze;4"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and CanSee(context.Source,context.Observer) and not IsMiss() and not HasStatus('SG_Invisible',context.Source) and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Rush_TundralStrike,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"
data "Stack" "OnDamaged"

<!--PASSIVES-->

new entry "Interrupt_DangerSense"
type "InterruptData"
data "DisplayName" "66706bd4b60a4ca88b703f3fc04bfaf8000z2;1"
data "Description" "66706bd4b60a4ca88b703f3fc04bfaf8000zb;5"
data "Icon" "PassiveFeature_RelentlessEndurance"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedSavingThrow() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsRerollInterruptInteresting()"
data "Properties" "SetRoll(20)"
data "Cost" "ReactionActionPoint:1;Rage:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('Rage',1,0,false,false,context.Source)"
data "EnableContext" "OnActionResourcesChanged"
data "Stack" "OnSave"

new entry "Interrupt_IntimidatingPresence"
type "InterruptData"
data "Icon" "Action_IntimidatingPresence"
data "DisplayName" "h690cd7b3g9732g415fga495g6918146ad266;2"
data "Description" "heb6e4d12g04eag4dbcgba42gc1bc6b56a945;4"
data "TooltipAttackSave" "Wisdom"
data "TooltipStatusApply" "ApplyStatus(INTIMIDATING_PRESENCE,100,1)"
data "TooltipPermanentWarnings" "d7a75ad8-a456-4296-9880-af239575f3a2"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and CanSee(context.Source,context.Observer) and not IsMiss() and not HasStatus('SG_Invisible',context.Source) and not AnyEntityIsItem() and HasLastAttackTriggered() and not HasStatus('INTIMIDATING_PRESENCE', context.Source) and not HasStatus('INTIMIDATING_PRESENCE_IMMUNE', context.Source) and not HasStatus('LOCKDOWN_CONDITION', context.Source)"
data "Properties" "UseSpell(SWAP,Target_IntimidatingPresence,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"
data "Stack" "OnDamaged"

new entry "Interrupt_TemperedRetaliation"
type "InterruptData"
data "Icon" "PassiveFeature_MindlessRage"
data "DisplayName" "66706bd4b60a4ca88b703f3fc04bfaf800116;2"
data "Description" "66706bd4b60a4ca88b703f3fc04bfaf80011p;4"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "HasStatus('SG_Rage', context.Observer) and IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and CanSee(context.Source,context.Observer) and not IsMiss() and not HasStatus('SG_Invisible',context.Source) and not AnyEntityIsItem() and HasLastAttackTriggered() and ((not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not WieldingWeapon('Ammunition', false, false, context.Observer)) or (not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and not HasPassive('Concealed_Carry_Description', context.Source) and not HasPassive('Offhand_Dual_Wield_Ranged', context.Source)) or (not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and HasPassive('Concealed_Carry_Description', context.Source) and not HasPassive('Offhand_Dual_Wield_Ranged', context.Source)) or (not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and HasPassive('Concealed_Carry_Description', context.Source) and HasPassive('Offhand_Dual_Wield_Ranged', context.Source)))"
data "Properties" "IF(not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not WieldingWeapon('Ammunition', false, false, context.Observer) and not Unarmed(context.Observer) and (not HasPassive('DualWielder', context.Observer) or HasPassive('DualWielder', context.Observer) and not HasPassive('Offhand_Dual_Wield', context.Observer))):UseSpell(SWAP,Target_MainHandAttack,true,true,true);IF(not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not WieldingWeapon('Ammunition', false, false, context.Observer) and not Unarmed(context.Observer) and (HasPassive('DualWielder', context.Observer) or HasPassive('Natural_Opportunity', context.Observer)) and HasPassive('Offhand_Dual_Wield', context.Observer)):UseSpell(SWAP,Target_OffhandAttack,true,true,true);IF(not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not WieldingWeapon('Ammunition', false, false, context.Observer) and (Unarmed(context.Observer) or HasStatus('SG_Polymorph_BeastShape', context.Observer))):UseAttack(OBSERVER_SOURCE);IF(not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and (not HasPassive('DualWielder', context.Observer) or HasPassive('DualWielder', context.Observer) and not (HasPassive('Concealed_Carry_Description', context.Observer) or HasPassive('LowRange_Firearm_Passive', context.Observer) or HasPassive('MidRange_Firearm_Passive', context.Observer) or HasPassive('HighRange_Firearm_Passive', context.Observer)))):UseSpell(SWAP,Projectile_MainHandAttack,true,true,true);IF(not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and (not HasPassive('DualWielder', context.Observer) or HasPassive('DualWielder', context.Observer) and HasPassive('Concealed_Carry_Description', context.Observer))):UseSpell(SWAP,Projectile_MainHandAttack,true,true,true);IF(not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and (HasPassive('DualWielder', context.Observer) or HasPassive('Natural_Opportunity', context.Observer)) and HasPassive('Offhand_Dual_Wield_Ranged', context.Observer)):UseSpell(SWAP,Projectile_OffhandAttack,true,true,true);IF(not DistanceToEntityGreaterThan(9, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and HasPassive('LowRange_Firearm_Passive', context.Observer)):UseSpell(OBSERVER_SOURCE,Projectile_MainHandAttack_Blunderbuss,true,true,true);IF(not DistanceToEntityGreaterThan(18, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and (HasPassive('MidRange_Firearm_Passive', context.Observer)):UseSpell(OBSERVER_SOURCE,Projectile_MainHandAttack_Flintlock,true,true,true);IF(not DistanceToEntityGreaterThan(36, context.ObserverPosition, context.Source) and WieldingWeapon('Ammunition', false, false, context.Observer) and HasPassive('HighRange_Firearm_Passive', context.Observer)):UseSpell(OBSERVER_SOURCE,Projectile_MainHandAttack_Musket,true,true,true)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "Stack" "OnDamaged"
