new entry "MAG_SHA_SharBlessing_Spear"
type "Weapon"
using "WPN_Spear_2"
data "RootTemplate" "61f31bf6-47ec-41e1-9385-2f6c26facc87"
data "ValueUUID" "d24c441f-7ebe-4229-8522-cf34c257ff20"
data "Rarity" "Legendary"
data "DefaultBoosts" "Tag(ORI_GALE_CONSUMABLEARTEFACT);WeaponEnchantment(3)"
data "BoostsOnEquipMainHand" "UnlockSpell(Target_PiercingThrust);UnlockSpell(Rush_SpringAttack);UnlockSpell(Target_Slash_New);UnlockSpell(Target_SHA_Apprentice_DaggerOfShar_Spell)"
data "PassivesOnEquip" "FreeHandling;MAG_SHA_SharBlessing_Spear_Passive;Shar_Darkvision"
data "UseCosts" "ReactionActionPoint:1;Attunement:4"
data "StatusOnEquip" "MAG_SHA_SHAR_BLESSING_SAVING_THROW_ADVANTAGE_TECHNICAL;ATTUNEMENT4"
data "Unique" "1"

new entry "Target_SHA_SharsBlessing_Darkness"
type "SpellData"
data "SpellType" "Target"
using "Target_Darkness"
data "Cooldown" "OncePerCombat"
data "DisplayName" "h71bc978fgbda0g4694gad48g40c5a7aa716c;1"
data "UseCosts" "BonusActionPoint:1"

new entry "Target_SHA_Apprentice_DaggerOfShar_Spell"
type "SpellData"
data "SpellType" "Target"
using "Target_DEN_Apprentice_DaggerOfShar_Spell"
data "Cooldown" "OncePerTurn"
data "RequirementConditions" "not HasStatus('SG_Polymorph_BeastShape')"

new entry "MAG_SHA_SharBlessing_Spear_Passive"
type "PassiveData"
data "DisplayName" "h0f958790g6a3bg4ba8g8f18gc48eb59ba5d6;2"
data "Description" "h02942cf4g33c9g4fa7g859fg850bc24c785e;11"
data "DescriptionParams" "DealDamage(1d8, Necrotic)"
data "Icon" "PassiveFeature_Generic_Tactical"
data "StatsFunctorContext" "OnObscurityChanged;OnCreate"
data "StatsFunctors" "IF(not HasObscuredState(ObscuredState.Clear)):ApplyStatus(MAG_SHA_SHAR_BLESSING_SAVING_THROW_ADVANTAGE, 100, -1);IF(HasObscuredState(ObscuredState.Clear)):RemoveStatus(MAG_SHA_SHAR_BLESSING_SAVING_THROW_ADVANTAGE)"

new entry "MAG_SHA_SHAR_BLESSING_SAVING_THROW_ADVANTAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h1cf4825bg4e4cg449cga1e5g8eb711e23fbc;1"
data "Description" "h8da2b13dg87c4g4edeg971bg7fc446d76298;1"
data "DescriptionParams" "DealDamage(1d8, Necrotic)"
data "Icon" "GenericIcon_Intent_Buff"
data "StackId" "MAG_SHA_SHAR_BLESSING_SAVING_THROW_ADVANTAGE"
data "Boosts" "Advantage(SavingThrow,Strength);Advantage(SavingThrow,Dexterity);Advantage(SavingThrow,Constitution);Advantage(SavingThrow,Intelligence);Advantage(SavingThrow,Wisdom);Advantage(SavingThrow,Charisma);CharacterWeaponDamage(1d8, Necrotic)"
data "StatusPropertyFlags" "DisableCombatlog;IgnoreResting;ApplyToDead"

new entry "Shar_Darkvision"
type "PassiveData"
data "DisplayName" "h1cf4825bg4e4cg449cga1e5g8eb711e23fbc;1"
data "Description" "h4290e9c1ga5abg4f18g8243g7410a1457f60;2"
data "DescriptionParams" "Distance(18)"
data "Icon" "PassiveFeature_Generic_Tactical"
data "Boosts" "DarkvisionRangeMin(18);ActiveCharacterLight(c46e7ba8-e746-7020-5146-287474d7b9f7);StatusImmunity(BLINDED_DARKNESS);IgnoreSurfaceCover(SurfaceDarknessCloud)"

new entry "CONSUMED_SHARSSPEAROFEVENING"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;ApplyToDead;IgnoreResting"
data "TickType" "EndTurn"
data "Boosts" "ActionResource(Attunement,0,0);IF(Tagged('FRONTIER_KNIGHT', context.Source)):UnlockSpell(Target_SHA_Apprentice_DaggerOfShar_Spell)"
