new entry "MAG_GreaterNecromancy_Staff"
type "Weapon"
using "WPN_Quarterstaff_2"
data "RootTemplate" "ecb02247-a407-445e-8046-856133d198bf"
data "ValueUUID" "81764c3c-c7a9-49a7-b145-d31ffd5aebe1"
data "Rarity" "VeryRare"
data "PassivesOnEquip" "FreeHandling;MAG_GreaterNecromancyStaff_LifeEssenceHarvest_Passive"
data "Unique" "1"
data "UseCosts" "ReactionActionPoint:1;Attunement:4"
data "StatusOnEquip" "ATTUNEMENT4"
data "DefaultBoosts" "Tag(ORI_GALE_CONSUMABLEARTEFACT);WeaponEnchantment(2);WeaponDamage(1d8, Necrotic)"

new entry "MAG_GreaterNecromancyStaff_LifeEssenceHarvest_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "hc78d53a5g6507g4176ga5begbbc16f57f543;2"
data "Description" "h0dfae69cg1f47g43e1g8cabg1ca03a28dbbb;2"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsKillingBlow() and Character() and not Self() and not Ally()"
data "StatsFunctors" "ApplyStatus(SELF, MAG_GREATER_NECROMANCY_LIFE_ESSENCE,100, -1)"

new entry "MAG_GREATER_NECROMANCY_LIFE_ESSENCE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha2654c3eg6985g4d5eg8619g9120754e233b;2"
data "Description" "hb72b3606g64cfg4ff5g9a17g7b82496f7f03;2"
data "Icon" "PassiveFeature_Generic_Death"
data "StackId" "MAG_GREATER_NECROMANCY_LIFE_ESSENCE"
data "StackType" "Additive"
data "Passives" "MAG_GreaterNecromancyStaff_CosumeLifeEssence_Passive"
data "StatusPropertyFlags" "FreezeDuration"

new entry "MAG_GreaterNecromancyStaff_CosumeLifeEssence_Passive"
type "PassiveData"
data "Icon" "PassiveFeature_Generic_Tactical"
data "DisplayName" "h974fc825gc350g4ff9ga318g215bdd53309f;2"
data "Description" "h5ccf6135g91e6g451fg8c31g1fb16b8570ea;2"
data "Icon" "PassiveFeature_Generic_Death"
data "Properties" "IsToggled;ToggledDefaultOn;Temporary"
data "StatsFunctorContext" "OnCast"
data "Conditions" "IsSpell() and IsSpellSchool(SpellSchool.Necromancy)"
data "StatsFunctors" "RemoveStatus(SELF, MAG_GREATER_NECROMANCY_LIFE_ESSENCE);RemoveStatus(SELF, MAG_GREATER_NECROMANCY_LIFE_ESSENCE_ACTIVE)"
data "ToggleOnFunctors" "ApplyStatus(MAG_GREATER_NECROMANCY_LIFE_ESSENCE_ACTIVE, 100, -1)"
data "ToggleOffFunctors" "RemoveStatus(MAG_GREATER_NECROMANCY_LIFE_ESSENCE_ACTIVE)"
data "ToggleOffContext" "OnCastResolved"
