<!---------------------------------------------------------------------------------------------------LEVEL 1 SPELLS--------------------------------------------------------------------------------------------------->

<!--HELLISH REBUKE-->

new entry "Interrupt_HellishRebuke"
type "InterruptData"
data "DisplayName" "h11ee1075g0231g4694g9786g88edadd35741;1"
data "Description" "hcf1c0532gd0afg439eg8683g05080783d38a;5"
data "DescriptionParams" "DealDamage(1d12+4,Fire)"
data "Icon" "PassiveFeature_HellishRebuke"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and CanSee(context.Source,context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not HasStatus('SG_Invisible',context.Source) and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:1"
data "Stack" "OnDamaged"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph_BeastShape') and not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusRemoved;OnStatusApplied"

new entry "Interrupt_HellishRebuke_2"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(2d12+8,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_2,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:2"

new entry "Interrupt_HellishRebuke_3"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(3d12+12,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_3,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"

new entry "Interrupt_HellishRebuke_4"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(4d12+16,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_4,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Interrupt_HellishRebuke_5"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(5d12+20,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_5,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"

new entry "Interrupt_HellishRebuke_6"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(6d12+24,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_6,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"

<!--SHIELD-->

new entry "Interrupt_Shield_Wizard"
type "InterruptData"
data "DisplayName" "hc0b6ad5cgc7f0g408dg9817g013b8c4893a8;1"
data "Description" "h175cbc1bg9509g40bfg80e4gf38b264a28b7;1"
data "Icon" "PassiveFeature_Shield"
data "InterruptContext" "OnPostRoll;OnPreDamage"
data "InterruptContextScope" "Self"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "IsAttack() and not HasVerbalComponentBlocked(context.Observer) and IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(4, context.Source)) or IsSpellChildOrVariantFromContext('Projectile_MagicMissile')) and not AnyEntityIsItem() and not HasStatus('SHIELD',context.Observer)"
data "Properties" "IF(HasInterruptedAttack()):AdjustRoll(-4);IF(IsSpellChildOrVariantFromContext('Projectile_MagicMissile')):SetRoll(0);ApplyStatus(INTERRUPT_SHIELD_WIZARD,100,1);ApplyStatus(OBSERVER_OBSERVER,SHIELD,100,1);IF(HasPassive('ArcaneWard',context.Source)):ApplyStatus(SELF,ARCANE_WARD,100,-1)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph_BeastShape') and not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusRemoved;OnStatusApplied"
data "Stack" "SelfAboutBeHit"

<!---------------------------------------------------------------------------------------------------LEVEL 3 SPELLS--------------------------------------------------------------------------------------------------->

new entry "Interrupt_Counterspell"
type "InterruptData"
data "DisplayName" "h48686e1eg13fdg4ee5g8b51gb3eb602d599d;2"
data "Description" "haa58fc9dge729g49ccga2bdgb382c61b3890;5"
data "Icon" "PassiveFeature_Counterspell"
data "InterruptContext" "OnSpellCast"
data "InterruptContextScope" "Nearby"
data "InterruptFlags" "InterruptWhileInvisible"
data "Container" "YesNoDecision"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and CanSee(context.Source,context.Observer) and Player() and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source) and SpellPowerLevelEqualTo(0) and not HasPassive('Dangerous_Encounter', context.Source) and not HasPassive('Fatal_Encounter', context.Source)"
data "Roll" "TryCounterspellHigherLevelCheck(0)"
data "Success" "Counterspell();UseSpell(OBSERVER_SOURCE,Target_Counterspell_Success,true,true,true)"
data "Failure" "UseSpell(OBSERVER_SOURCE,Target_Counterspell_Failure,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph_BeastShape') and not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusRemoved;OnStatusApplied"
data "Stack" "OnEnemyCast"

new entry "Interrupt_Counterspell_2"
type "InterruptData"
using "Interrupt_Counterspell"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Player() and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source) and (SpellPowerLevelEqualTo(0) or SpellPowerLevelEqualTo(1)) and not HasPassive('Dangerous_Encounter', context.Source) and not HasPassive('Fatal_Encounter', context.Source)"
data "Roll" "TryCounterspellHigherLevelCheck(1)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:2"

new entry "Interrupt_Counterspell_3"
type "InterruptData"
using "Interrupt_Counterspell"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Player() and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source) and (SpellPowerLevelEqualTo(0) or SpellPowerLevelEqualTo(1) or SpellPowerLevelEqualTo(2)) and not HasPassive('Dangerous_Encounter', context.Source) and not HasPassive('Fatal_Encounter', context.Source)"
data "Roll" "TryCounterspellHigherLevelCheck(2)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"

new entry "Interrupt_Counterspell_4"
type "InterruptData"
using "Interrupt_Counterspell"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Player() and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source) and (SpellPowerLevelEqualTo(0) or SpellPowerLevelEqualTo(1) or SpellPowerLevelEqualTo(2) or SpellPowerLevelEqualTo(3)) and not HasPassive('Dangerous_Encounter', context.Source) and not HasPassive('Fatal_Encounter', context.Source)"
data "Roll" "TryCounterspellHigherLevelCheck(3)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Interrupt_Counterspell_5"
type "InterruptData"
using "Interrupt_Counterspell"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Player() and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source) and (SpellPowerLevelEqualTo(0) or SpellPowerLevelEqualTo(1) or SpellPowerLevelEqualTo(2) or SpellPowerLevelEqualTo(3) or SpellPowerLevelEqualTo(4)) and not HasPassive('Dangerous_Encounter', context.Source) and not HasPassive('Fatal_Encounter', context.Source)"
data "Roll" "TryCounterspellHigherLevelCheck(4)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"

new entry "Interrupt_Counterspell_6"
type "InterruptData"
using "Interrupt_Counterspell"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Player() and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source) and (SpellPowerLevelEqualTo(0) or SpellPowerLevelEqualTo(1) or SpellPowerLevelEqualTo(2) or SpellPowerLevelEqualTo(3) or SpellPowerLevelEqualTo(4) or SpellPowerLevelEqualTo(5)) and not HasPassive('Dangerous_Encounter', context.Source) and not HasPassive('Fatal_Encounter', context.Source)"
data "Roll" "TryCounterspellHigherLevelCheck(5)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"