new entry "MAG_MeleeDebuff_AttackDebuff1_OnDamage_Scimitar"
type "Weapon"
using "WPN_Scimitar_2"
data "RootTemplate" "503b4f8d-da61-4fc1-a4b7-cad124a10c69"
data "ItemGroup" ""
data "ValueUUID" "9b6a4ab2-323b-4030-89ab-030252bb6214"
data "DefaultBoosts" "Tag(ORI_GALE_CONSUMABLEARTEFACT);WeaponEnchantment(2)"
data "Rarity" "VeryRare"
data "PassivesOnEquip" "FreeHandling;WarCaster_Display_Item;WarCaster_Bonuses_Item;WarCaster_OpportunitySpell_Item;WarCaster_Recharge_Item;WarCaster_Recharge_Ranged_Item"
data "UseCosts" "ReactionActionPoint:1;Attunement:4"
data "StatusOnEquip" "ATTUNEMENT4"
data "Unique" "1"

<!--ITEM VARIANT - FEAT REWORK-->

new entry "WarCaster_Display_Item"
type "PassiveData"
data "DisplayName" "8a87461fd8dd4f5b9098ded714f6c8aa00041;2"
data "Description" "8a87461fd8dd4f5b9098ded714f6c8aa000o0;5"
data "Icon" "PassiveFeature_Banite_TacticalDiscipline"
data "Properties" "IsToggled;Temporary"
data "ToggleOnFunctors" "ApplyStatus(MAG_CQC_RANGED_SPELL, 100, -1)"
data "ToggleOffFunctors" "RemoveStatus(MAG_CQC_RANGED_SPELL)"
data "ToggleOnEffect" "VFX_Spells_Cast_Sorcerer_Metamagic_Quickened_HeadFX_01:Dummy_HeadFX"
data "ToggleOffContext" "OnCastResolved"
data "EnabledConditions" "not HasPassive('WarCaster_Display', context.Source)"
data "EnabledContext" "OnStatusApplied;OnStatusRemoved;OnCreate"
data "TooltipPermanentWarnings" "8d245daf-56a0-4bba-ae80-e64f9bca8455"

new entry "WarCaster_Bonuses_Item"
type "PassiveData"
data "Properties" "IsHidden"
data "BoostConditions" "not HasPassive('WarCaster_Bonuses', context.Source)"
data "Boosts" "Advantage(Concentration)"

new entry "WarCaster_OpportunitySpell_Item"
type "PassiveData"
data "Properties" "IsHidden"
data "BoostConditions" "not HasPassive('WarCaster_OpportunitySpell', context.Source)"
data "Boosts" "UnlockInterrupt(Interrupt_WarCaster);ActionResource(CounterAction,1,0);UnlockSpell(Shout_WarCaster)"
data "StatsFunctorContext" "OnAttack"
data "StatsFunctors" "RestoreResource(SELF,CounterAction, 1, 0)"

new entry "WarCaster_Recharge_Item"
type "PassiveData"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "not HasPassive('WarCaster_Recharge', context.Source) and IsKillingBlow() and Character() and not Self() and not Ally() and IsMeleeAttack() or not HasPassive('WarCaster_Recharge', context.Source) and IsCritical() and Character() and not Self() and not Ally() and IsMeleeAttack()"
data "StatsFunctors" "RestoreResource(SELF,SpellSlot,1,1)"

new entry "WarCaster_Recharge_Ranged_Item"
type "PassiveData"
data "Properties" "IsHidden;OncePerTurn"
data "StatsFunctorContext" "OnDamage"
data "Conditions" "not HasPassive('WarCaster_Recharge', context.Source) and IsKillingBlow() and Character() and not Self() and not Ally() and not IsMeleeAttack() and IsWeaponAttack() or not HasPassive('WarCaster_Recharge', context.Source) and IsCritical() and Character() and not Self() and not Ally() and not IsMeleeAttack() and IsWeaponAttack()"
data "StatsFunctors" "RestoreResource(SELF,SpellSlot,1,1)"
